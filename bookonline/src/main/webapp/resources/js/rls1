BN_YUI.Env._loader.data = ["cookie","json-parse","json-stringify","lang-dom","lang-obj","analytics-model","io-form","querystring-stringify","analytics","base-pluginhost","buffer-delayed","buffer-interval","analytics-internaltracking","analytics-comscore","array-extras","querystring-parse","analytics-coremetrics","async-semaphore","datatype-xml-parse","io-xdr","account-signin-event","account-signin-check","communicator-cookie-messenger","communicator-window-messenger","inter-window-communicator","account-signin-popup","account-signin-base","account-signin","event-simulate","async-queue","gesture-simulate","node-event-simulate","attribute-complex","classnamemanager","widget-base","widget-htmlparser","yui-throttle","event-resize","widget-lazy-render","styled-inputs","event-mouseenter","event-hover","substitute","analytics-visualization","performance-metrics","mixpanel-core","styled-inputs-ie","skin-sam-widget-base"];
/*[|y|cookie/cookie-min.js, |y|json-parse/json-parse-min.js, |y|json-stringify/json-stringify-min.js, /js-min/core/lang/dom.js, /js-min/core/lang/obj.js, /js-min/core/analytics/model/analytics-model.js, |y|io-form/io-form-min.js, |y|querystring-stringify/querystring-stringify-min.js, /js-min/core/analytics/analytics.js, |y|base-pluginhost/base-pluginhost-min.js, /js-min/core/analytics/buffer/delayed.js, /js-min/core/analytics/buffer/interval.js, /js-min/core/analytics/provider/internaltracking-provider.js, /js-min/core/analytics/provider/comscore-provider.js, |y|array-extras/array-extras-min.js, |y|querystring-parse/querystring-parse-min.js, /js-min/core/analytics/provider/coremetrics-provider.js, /js-min/core/utility/AsyncSemaphore.js, |y|datatype-xml-parse/datatype-xml-parse-min.js, |y|io-xdr/io-xdr-min.js, /js-min/widgets/account/signin/signin-event.js, /js-min/widgets/account/signin/signin-check.js, /js-min/widgets/shared/communication/cookie-messenger.js, /js-min/widgets/shared/communication/window-messenger.js, /js-min/widgets/shared/communication/inter-window-communicator.js, /js-min/widgets/account/signin/signin-popup.js, /js-min/widgets/account/signin/signin-base.js, /js-min/widgets/account/signin/signin.js, |y|event-simulate/event-simulate-min.js, |y|async-queue/async-queue-min.js, |y|gesture-simulate/gesture-simulate-min.js, |y|node-event-simulate/node-event-simulate-min.js, |y|attribute-complex/attribute-complex-min.js, |y|classnamemanager/classnamemanager-min.js, |y|widget-base/widget-base-min.js, |y|widget-htmlparser/widget-htmlparser-min.js, |y|yui-throttle/yui-throttle-min.js, |y|event-resize/event-resize-min.js, /js-min/core/utility/widget-lazy-render.js, /js-min/widgets/shared/styled-inputs.js, |y|event-mouseenter/event-mouseenter-min.js, |y|event-hover/event-hover-min.js, |y|substitute/substitute-min.js, /js-min/core/analytics/visualization-tool.js, /js-min/widgets/shared/performance-metrics.js, /js-min/core/analytics/provider/mixpanel-core.js, /js-min/widgets/shared/styled-inputs-ie.js]*/
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("cookie",function(e,t){function h(e){throw new TypeError(e)}function p(e){(!s(e)||e==="")&&h("Cookie name must be a non-empty string.")}function d(e){(!s(e)||e==="")&&h("Subcookie name must be a non-empty string.")}var n=e.Lang,r=e.Object,i=null,s=n.isString,o=n.isObject,u=n.isUndefined,a=n.isFunction,f=encodeURIComponent,l=decodeURIComponent,c=e.config.doc;e.Cookie={_createCookieString:function(e,t,n,r){r=r||{};var i=f(e)+"="+(n?f(t):t),u=r.expires,a=r.path,l=r.domain;return o(r)&&(u instanceof Date&&(i+="; expires="+u.toUTCString()),s(a)&&a!==""&&(i+="; path="+a),s(l)&&l!==""&&(i+="; domain="+l),r.secure===!0&&(i+="; secure")),i},_createCookieHashString:function(e){o(e)||h("Cookie._createCookieHashString(): Argument must be an object.");var t=[];return r.each(e,function(e,n){!a(e)&&!u(e)&&t.push(f(n)+"="+f(String(e)))}),t.join("&")},_parseCookieHash:function(e){var t=e.split("&"),n=i,r={};if(e.length)for(var s=0,o=t.length;s<o;s++)n=t[s].split("="),r[l(n[0])]=l(n[1]);return r},_parseCookieString:function(e,t,n){var r={};if(s(e)&&e.length>0){var o=t===!1?function(e){return e}:l,a=e.split(/;\s/g),f=i,c=i,h=i;for(var p=0,d=a.length;p<d;p++){h=a[p].match(/([^=]+)=/i);if(h instanceof Array)try{f=l(h[1]),c=o(a[p].substring(h[1].length+1))}catch(v){}else f=l(a[p]),c="";!u(n)&&n.reverseCookieLoading?u(r[f])&&(r[f]=c):r[f]=c}}return r},_setDoc:function(e){c=e},exists:function(e){p(e);var t=this._parseCookieString(c.cookie,!0);return t.hasOwnProperty(e)},get:function(e,t){p(e);var n,r,s;return a(t)?(s=t,t={}):o(t)?s=t.converter:t={},n=this._parseCookieString(c.cookie,!t.raw,t),r=n[e],u(r)?i:a(s)?s(r):r},getSub:function(e,t,n,r){var s=this.getSubs(e,r);return s!==i?(d(t),u(s[t])?i:a(n)?n(s[t]):s[t]):i},getSubs:function(e,t){p(e);var n=this._parseCookieString(c.cookie,!1,t);return s(n[e])?this._parseCookieHash(n[e]):i},remove:function(t,n){return p(t),n=e.merge(n||{},{expires:new Date(0)}),this.set(t,"",n)},removeSub:function(e,t,n){p(e),d(t),n=n||{};var r=this.getSubs(e);if(o(r)&&r.hasOwnProperty(t)){delete r[t];if(!n.removeIfEmpty)return this.setSubs(e,r,n);for(var i in r)if(r.hasOwnProperty(i)&&!a(r[i])&&!u(r[i]))return this.setSubs(e,r,n);return this.remove(e,n)}return""},set:function(e,t,n){p(e),u(t)&&h("Cookie.set(): Value cannot be undefined."),n=n||{};var r=this._createCookieString(e,t,!n.raw,n);return c.cookie=r,r},setSub:function(e,t,n,r){p(e),d(t),u(n)&&h("Cookie.setSub(): Subcookie value cannot be undefined.");var i=this.getSubs(e);return o(i)||(i={}),i[t]=n,this.setSubs(e,i,r)},setSubs:function(e,t,n){p(e),o(t)||h("Cookie.setSubs(): Cookie value must be an object.");var r=this._createCookieString(e,this._createCookieHashString(t),!1,n);return c.cookie=r,r}}},"3.8.1",{requires:["yui-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("json-parse",function(e,t){function n(t){var n=typeof global=="object"?global:undefined;return(e.UA.nodejs&&n?n:e.config.win||{})[t]}function d(e,t){return e==="ok"?!0:t}var r=n("JSON"),i=Object.prototype.toString.call(r)==="[object JSON]"&&r,s=!!i,o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,l=/[^\],:{}\s]/,c=function(e){return"\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)},h=function(e,t){var n=function(e,r){var i,s,o=e[r];if(o&&typeof o=="object")for(i in o)o.hasOwnProperty(i)&&(s=n(o,i),s===undefined?delete o[i]:o[i]=s);return t.call(e,r,o)};return typeof t=="function"?n({"":e},""):e},p=function(e,t){e=e.replace(o,c);if(!l.test(e.replace(u,"@").replace(a,"]").replace(f,"")))return h(eval("("+e+")"),t);throw new SyntaxError("JSON.parse")};e.namespace("JSON").parse=function(t,n){return typeof t!="string"&&(t+=""),i&&e.JSON.useNativeParse?i.parse(t,n):p(t,n)};if(i)try{s=i.parse('{"ok":false}',d).ok}catch(v){s=!1}e.JSON.useNativeParse=s},"3.8.1",{requires:["yui-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("json-stringify",function(e,t){function n(t){var n=typeof global=="object"?global:undefined;return(e.UA.nodejs&&n?n:e.config.win||{})[t]}function B(e){var t=typeof e;return y[t]||y[a.call(e)]||(t===h?e?h:p:c)}function j(e){return D[e]||(D[e]="\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4),P[e]=0),++P[e]===H&&(M.push([new RegExp(e,"g"),D[e]]),_=M.length),D[e]}function F(e){var t,n;for(t=0;t<_;t++)n=M[t],e=e.replace(n[0],n[1]);return A+e.replace(O,j)+A}function I(e,t){return e.replace(/^/gm,t)}function q(t,n,r){function M(e,t){var a=e[t],f=B(a),y=[],A=r?L:k,O,_,D,P,H;o(a)&&s(a.toJSON)?a=a.toJSON(t):f===g&&(a=l(a)),s(i)&&(a=i.call(e,t,a)),a!==e[t]&&(f=B(a));switch(f){case g:case h:break;case d:return F(a);case v:return isFinite(a)?a+b:p;case m:return a+b;case p:return p;default:return undefined}for(_=c.length-1;_>=0;--_)if(c[_]===a)throw new Error("JSON.stringify. Cyclical reference");O=u(a),c.push(a);if(O)for(_=a.length-1;_>=0;--_)y[_]=M(a,_)||p;else{D=n||a,_=0;for(P in D)D.hasOwnProperty(P)&&(H=M(a,P),H&&(y[_++]=F(P)+A+H))}return c.pop(),r&&y.length?O?S+C+I(y.join(N),r)+C+x:w+C+I(y.join(N),r)+C+E:O?S+y.join(T)+x:w+y.join(T)+E}if(t===undefined)return undefined;var i=s(n)?n:null,f=a.call(r).match(/String|Number/)||[],l=e.JSON.dateToString,c=[],y,A,O;P={},H=e.JSON.charCacheThreshold;if(i||!u(n))n=undefined;if(n){y={};for(A=0,O=n.length;A<O;++A)y[n[A]]=!0;n=y}return r=f[0]==="Number"?(new Array(Math.min(Math.max(0,r),10)+1)).join(" "):(r||b).slice(0,10),M({"":t},"")}var r=n("JSON"),i=e.Lang,s=i.isFunction,o=i.isObject,u=i.isArray,a=Object.prototype.toString,f=a.call(r)==="[object JSON]"&&r,l=!!f,c="undefined",h="object",p="null",d="string",v="number",m="boolean",g="date",y={"undefined":c,string:d,"[object String]":d,number:v,"[object Number]":v,"boolean":m,"[object Boolean]":m,"[object Date]":g,"[object RegExp]":h},b="",w="{",E="}",S="[",x="]",T=",",N=",\n",C="\n",k=":",L=": ",A='"',O=/[\x00-\x07\x0b\x0e-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,M=[[/\\/g,"\\\\"],[/\"/g,'\\"'],[/\x08/g,"\\b"],[/\x09/g,"\\t"],[/\x0a/g,"\\n"],[/\x0c/g,"\\f"],[/\x0d/g,"\\r"]],_=M.length,D={},P,H;if(f)try{l="0"===f.stringify(0)}catch(R){l=!1}e.mix(e.namespace("JSON"),{useNativeStringify:l,dateToString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+k+t(e.getUTCMinutes())+k+t(e.getUTCSeconds())+"Z"},stringify:function(t,n,r){return f&&e.JSON.useNativeStringify?f.stringify(t,n,r):q(t,n,r)},charCacheThreshold:100})},"3.8.1",{requires:["yui-base"]});
YUI.add("lang-dom",function(Y){Y.namespace("BN.Lang.Dom");
Y.BN.Lang.Dom={node:{setCache:function(el,data){var cacheData=data,e=el;
cacheData=window.escape(Y.JSON.stringify(cacheData));
e.setAttribute("data-bn-cache",cacheData)
},getCache:function(el){var val=el.getAttribute("data-bn-cache");
if(val===""){return null
}return Y.JSON.parse(window.unescape(val))
}},handleInlineJs:function(js){if(js){if(window.execScript){window.execScript(js)
}else{window.eval(js)
}}},handleInlineCss:function(css){if(css){try{document.getElementsByTagName("STYLE")[0].innerHTML+=css
}catch(e){var mqRegxep=/@media.*?}[\s]*?}(?:[\S]*mediaquery[\S]*)?/gm,mq=css.match(mqRegxep),styleRules=css.replace(mqRegxep,"").split("}"),styleSheet=document.styleSheets[document.styleSheets.length-1];
for(var i=0,ii=styleRules.length;
i<ii;
i++){var styleRule=Y.Lang.trim(styleRules[i]);
if(styleRule!=""){if(styleSheet.insertRule){styleSheet.insertRule(styleRule+"}",styleSheet.cssRules.length)
}else{if(styleSheet.addRule){var ruleSplit=styleRule.split("{"),selector=Y.Lang.trim(ruleSplit[0]),rule=Y.Lang.trim(ruleSplit[1]);
styleSheet.addRule(selector,rule)
}}}}}}},removeLocationParam:function(param){if(window.history.replaceState){var r=new RegExp("([?&])"+param+"=.*?(&|$)");
window.history.replaceState({},window.document.title,window.location.href.replace(r,function(match,g1,g2,offset,string){return g2==="&"?g1:""
}))
}}}
},"@VERSION@",{requires:["yui-base","json"]});
YUI.add("lang-obj",function(a){a.namespace("BN.Lang.Obj");
a.BN.Lang.Obj={deepmerge:function(g,d){var b=null,h=g,c=d;
try{for(b in c){if(c.hasOwnProperty(b)){if(c[b].constructor===Object){h[b]=a.BN.Lang.Obj.deepmerge(h[b],c[b])
}else{h[b]=c[b]
}}}}catch(f){h[b]=c[b]
}return h
},getValByString:function(e,g){var c=g.split("."),f,b=e,d;
while(c.length>0){d=c.shift();
if(typeof b[d]!=="undefined"){b=b[d]
}else{b=null;
break
}}return b
}}
},"@VERSION@",{requires:[]});
YUI.add("analytics-model",function(c){c.namespace("Analytics");
var a=function(e){var d=e;
this.getData=function(){return d
}
};
var b=function(){this.getData=function(){var d={userId:"userid",pageId:"pgId",pageType:"search",categoryId:"catId",url:"http://bn.com/?someUrl",siteId:"0001",appVersion:"1.5",parameters:{key:"value",searchTerm:"Algorithms",numOfResults:102},serverTime:"1312835659"};
return d
}
};
c.Analytics.Model={JsonPageMetadata:a,JsonPageMetadataStub:b}
},"@VERSION@",{requires:[]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.8.1",{requires:["io-base","node-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.8.1",{requires:["yui-base"]});
YUI.add("analytics",function(f){f.namespace("Analytics");
f.namespace("Analytics.Provider");
f.namespace("Analytics.BufferStrategy");
var c=null,e=null,d=null,b=null;
f.Analytics.Event={ASYNC:"bntrack:async",CLICK:"bntrack:click",MOUSEUP:"bntrack:mouseup",PAGE:"bntrack:page",LOAD:"bntrack:load",HOVER:"bntrack:hover",ELEMENTVIEW:"bntrack:elementview",RESIZE:"bntrack:resize",SCROLL:"bntrack:scroll",MANUAL:"bntrack:manual",HISTORYCHANGE:"bntrack:historychange",SUBMIT:"bntrack:submit"};
c=function(i,h,g){if(h.getData()===undefined){return
}var j="body";
this._name="Tracker";
this._lastRequestIdCookieName="wi:lastRequestId";
this._providerInterface=["flushBuffer","init"];
this._providers=i;
this._model=h;
this._eventTriggerName="_bntrack:domevent";
this._cfg={htm5DataAttr:"data-bntrack",htm5DataRootAttr:"data-bntrack-root",htm5DataCacheAttr:"data-bntrack-cache",htm5DataPageAware:"data-bntrack-pageaware",htm5DataTrackAttr:"data-bntrack",htm5DataViewAttr:"data-bntrack-view",maxNodeSearchDepth:15,defaultDelegate:j,custEventStrDelim:".",trackEvents:{CLICK:{eventName:f.Analytics.Event.CLICK,DOMEvent:["click","contextmenu"],selectors:["a","option","img","input","button","[data-bntrack-event*=click]"]},HOVER:{eventName:f.Analytics.Event.HOVER,DOMEvent:"mouseover",selectors:["[data-bntrack-event*=hover] > li"]},PAGE:{eventName:f.Analytics.Event.PAGE,DOMEvent:"load"},ASYNC:{eventName:f.Analytics.Event.ASYNC},SUBMIT:{eventName:f.Analytics.Event.SUBMIT,DOMEvent:"submit",selectors:["form"],useNodeTarget:true},MANUAL:{eventName:f.Analytics.Event.MANUAL}}};
this._cfg=f.BN.Lang.Obj.deepmerge(this._cfg,g);
this._sections=[];
this._elements=[];
this._currentPage=this._model.getData();
this._encodedPageRequestId=this._currentPage.requestId||(this._currentPage.userId+this._currentPage.serverTime);
this._init()
};
c.prototype={find:function(k,v){var w=k.get("parentNode"),l=v,n=this._cfg.maxNodeSearchDepth,r=this._cfg.htm5DataAttr,s=this._cfg.htm5DataRootAttr,t=this._cfg.htm5DataPageAware,g=k.getAttribute(t),u,q=[],h=[],j=null,p;
if(k.get("tagName")=="SELECT"){u=f.one("option[selected]",k);
if(u){j=this._getHierarchalVal(u,r,l,h);
q.push(j)
}}j=this._getHierarchalVal(k,r,l,h);
q.push(j);
for(p=0;
p<n&&(w.get("tagName")!=="BODY");
w=w.get("parentNode"),p++){var o=(w.getAttribute(s)!==""),m=w.getAttribute(r),x=(m!=="");
if(g==""&&w.getAttribute(t)){g=w.getAttribute(t)
}if(x){j=this._getHierarchalVal(w,r,l,h);
q.unshift(j)
}if(o){break
}}g=this._determinePageAware(g);
return{values:q,isPageAware:g,nodes:h}
},getPage:function(){return this._currentPage
},setPage:function(g){this._currentPage=g
},setSections:function(g){this._sections=g
},getSections:function(){return this._sections
},setElements:function(g){this._elements=g
},getElements:function(){return this._elements
},getProvider:function(j){var h=0,g=0;
for(g=this._providers.length;
h<g;
h++){if(this._providers[h]._name===j){return this._providers[h]
}}return null
},_init:function(){this._providers=this._initProviders(this._providers);
this._initEvents();
this._setSections();
this._setClientTime();
c.fire(f.Analytics.Event.LOAD);
f.Analytics.Tracker.isLoaded=true;
f.Env.BNTrackerInstance=this
},_initEvents:function(){var h=this._cfg.trackEvents,g=null;
for(g in h){if(h.hasOwnProperty(g)){this._attachEvent(g,h[g])
}}},_handle:function(j,h){var g,i=h.eventId;
g=this._runFilters(j,h);
if(i==="MANUAL"&&g.eventId!==undefined){i=g.eventId
}this._addToBuffer(i,g);
return g
},_addToBuffer:function(j,l){var m,k=this._providers,h,g;
for(h=0,g=k.length;
h<g;
h++){m=k[h];
m.addToBuffer(j,l)
}},_createEventObj:function(g,i){var h={eventData:f.clone(g.values),isPageAware:g.isPageAware,timestamp:g.timestamp,href:g.href,eventObj:i};
if(g.nodes&&g.nodes.length>0){h.nodes=g.nodes
}return h
},_createElementViewObj:function(){var h,m=+new Date(),l=this._elements,k=null,j=[],g={},i=this;
l.each(function(n){k=n;
h=f.BN.Lang.Dom.node.getCache(k);
if(h===null){h=i.find(k);
f.BN.Lang.Dom.node.setCache(k,h)
}j.push(f.clone(h.values))
},this);
g={timestamp:m,elements:f.clone(j)};
return g
},_isElementInView:function(k){var j=k.getY(),h=document.documentElement.scrollTop||document.body.scrollTop,i=f.one("body").get("winHeight");
var g=parseInt(i+h,10);
if(g>=j){return true
}else{return false
}},_getHierarchalVal:function(i,g,h,j){if(h){j.push(i)
}return i.getAttribute(g)
},_getHierarchalEventObj:function(j,m,g){var i=j,o=f.BN.Lang.Dom.node.getCache(i),l=new Date().valueOf(),h=null,k=null,n=this;
if(i.hasAttribute&&i.hasAttribute("href")){h=i.getAttribute("href")
}else{if(i.get&&f.Array.indexOf(["BUTTON","INPUT"],(i.get("nodeName")))!==-1){k=i.get("form");
if(k){h=k.get("action");
if(h&&!/^https:/i.test(h)){h+=((h.indexOf("?")===-1)?"?":"&")+f.IO.prototype._serialize(k.getDOMNode())
}}}}if(o===null){if(m){o={values:m,isPageAware:g,nodes:null}
}else{o=n.find(i);
if(g){o.isPageAware=g
}}if(i.setAttribute){f.BN.Lang.Dom.node.setCache(i,o)
}}o.href=h;
o.timestamp=l;
return o
},_runFilters:function(r,p){var o=r,j=p,g=p.eventId,q=this,h,l={},m=null,n=null;
h={trackHierarchal:function(){var i=function(){l=f.merge(l,{eventId:j.eventId,eventObj:q._createEventObj(q._getHierarchalEventObj(o.currentTarget),o)})
};
return{CLICK:i,MOUSEUP:i,HOVER:i,MOUSEDOWN:i}
},trackManual:function(){var i=function(){var t=j.eventObj,w=t.node,s=t.eventData,u=t.eventId||j.eventId,v=q._determinePageAware(t.isPageAware),x={},k={getAttribute:function(y){switch(y){case"href":return t.href||"NA";
default:return""
}},hasAttribute:function(y){switch(y){case"href":return true;
default:return false
}}};
if(!w){w={currentTarget:k,target:k}
}x=q._getHierarchalEventObj(w.currentTarget,s,v);
l=f.merge(l,{eventId:u,eventObj:q._createEventObj(x,k)})
};
return{MANUAL:i}
},trackPage:function(){var i=function(){l=f.merge(l,{eventId:j.eventId,pageObj:q.getPage()})
};
return{PAGE:i}
},trackSubmit:function(){var i=function(){var t=o.currentTarget,k=j.eventId,u,s=t.getDOMNode();
u=q._getHierarchalEventObj(t);
u.href=s.getAttribute("action")+"?"+f.IO.prototype._serialize(s);
l=f.merge(l,{eventId:k,eventObj:q._createEventObj(u,t)})
};
return{SUBMIT:i}
},trackElementView:function(){var s=q.getSections();
var k=function(){s.each(function(t){if(q._isElementInView(t)){l=f.merge(l,{eventId:j.eventId,elementObj:t})
}});
return true
};
var i=function(){k()
};
return{ELEMENTVIEW:i,RESIZE:i,SCROLL:i}
},setLastRequestId:function(){var i=function(){f.Cookie.set(q._lastRequestIdCookieName,q._encodedPageRequestId,{path:"/",domain:"barnesandnoble.com"})
};
return{PAGE:i,ASYNC:i,MANUAL:i,SUBMIT:i,CLICK:i}
},trackAsync:function(){return{ASYNC:function(){var t=j.eventObj,i=new Date().valueOf(),s=t.pageObj,k=t.event,u=null;
if(s){s.clientTime=i;
s.pageType="ASYNC";
l=f.merge(l,{pageObj:s})
}if(k&&k.eventData&&k.eventData.length){u=k.eventData.pop();
k.timestamp=i;
k.type="ASYNC";
k.target=u;
l=f.merge(l,{event:k})
}}}
}};
for(m in h){if(h.hasOwnProperty(m)){if(h[m]()[g]!==undefined){h[m]()[g]()
}}}for(n in l){if(l.hasOwnProperty(n)){return l
}}return j.eventObj
},_attachEvent:function(i,m){var r=i,h=m,l=h.eventName,j=h.DOMEvent!==undefined?true:false,n=h.DOMEvent,q=this._filterSelectorsArr(h.selectors),o=h.delegate||"body",k=(q===undefined)?false:true,p=h.useNodeTarget,t=this._handle,g,s=this;
g={eventId:r,eventObj:this};
c.on(f.Analytics.Event.LOAD,function(){if(k&&!p){f.delegate(n,t,o,q,s,g)
}else{if(q!==undefined&&p){f.all(q).on(n,function(u,v){t.call(s,u,v)
},null,g)
}else{if(j){f.on(n,function(u){t.call(s,u,g)
})
}else{c.on(l,function(u){g.eventObj=u;
t.call(s,null,g)
})
}}}})
},_determinePageAware:function(h){var i=h,g=this._currentPage.pageAware||false;
if(i==""||i===undefined||i===null){i=g
}if(f.Lang.type(i)==="string"){i=(i==="true")
}return i
},_setSections:function(){var g=f.all("["+this._cfg.htm5DataRootAttr+"]");
this._sections=g
},_setElements:function(){var g=f.all("["+this._cfg.htm5DataRootAttr+"]");
this._elements=g
},_testElementInView:function(g){},_setClientTime:function(){this._currentPage.clientTime=+new Date()
},_filterSelectorsArr:function(k){if(k===undefined){return k
}var m=k,j=[],h,g,l;
for(h=0,g=m.length;
h<g;
h++){l=m[h];
j.push(this._filterSelector(l))
}return j.join(",")
},_filterSelector:function(h){if(h.indexOf("["+this._cfg.htm5DataAttr+"]")>-1){return h
}var g=h.replace(/(.*)/,"$1["+this._cfg.htm5DataAttr+"]");
return g
},_initProviders:function(m){var l=[],g=this._providerInterface,k=function(i){f.log("Tracker Provider "+i._name+" must implement Provider interface "+g.join(","),"error",this._name)
},j,n,h;
if(m===undefined){f.log("Tracker requires valid Providers","error",this._name)
}for(j=0,h=m.length;
j<h;
j++){n=m[j];
if(this._implements(m[j],this._providerInterface)){n.setEncodedPageRequestId(this._encodedPageRequestId);
n.setTracker(this);
n.init();
n.initBuffers(n);
l.push(n)
}else{k(m)
}}return l
},_implements:function(l,g){var h=g,k,j;
for(k=0,j=h.length;
k<j;
k++){if(l.prototype){if(!(l.prototype[h[k]] instanceof Function)){return false
}}else{if(!(h[k]!==undefined&&l[h[k]] instanceof Function)){return false
}}}return true
}};
c.EventTarget=(function(){var g=function(){this.publish(f.Analytics.Event.LOAD,{broadcast:2,fireOnce:true})
};
f.augment(g,f.EventTarget);
return new g()
}());
c.on=function(j,h,m,l){var k=j,g=m,i=l;
c.EventTarget.on(k,function(n){h.call(g,n,i)
})
};
c.fire=function(g,h){c.EventTarget.fire(g,h)
};
c.trackManual=function(g){c.on(f.Analytics.Event.LOAD,function(){c.fire(f.Analytics.Event.MANUAL,f.merge({eventId:"MANUAL",eventData:[],isPageAware:true,href:null},g))
})
};
c.Bootstrap=function(j,h,g){var k=c.ProvidersConfigurer(j,g);
var l=new f.Analytics.Model.JsonPageMetadata(h);
var i=new f.Analytics.Tracker(k,l);
return i
};
c.ECommerceBootstrap=function(h,g){return c.Bootstrap(["Coremetrics","WebInstrumentation","Comscore"],h,g)
};
c.CoremetricsBootstrap=function(h,g){return c.Bootstrap(["Coremetrics"],h,g)
};
c.ComscoreBootstrap=function(h,g){return c.Bootstrap(["Comscore"],h,g)
};
c.WebInstrumentationBootstrap=function(h,g){return c.Bootstrap(["WebInstrumentation"],h,g)
};
c.ProvidersConfigurer=function(l,g){var m=l,k=[],j=0,h=0;
for(h=m.length;
j<h;
j++){k.push((c[m[j]+"Configurer"])(g))
}return k
};
c.WebInstrumentationConfigurer=function(h){var g=f.merge({baseUrl:"/",prettyFormat:true},h);
return new f.Analytics.Provider.InternalProvider(g)
};
c.CoremetricsConfigurer=function(g){return new f.Analytics.Provider.CoremetricsProvider(g)
};
c.ComscoreConfigurer=function(g){return new f.Analytics.Provider.ComscoreProvider(g)
};
c.getInstance=function(){return f.Env.BNTrackerInstance
};
f.augment(c,f.EventTarget);
f.Analytics.Tracker=c;
b=function(){this._tracker=null;
this._isPageTracked=false;
this._bufferStrategyInterface=["onEvent","init","setProvider"];
this._buffers=null;
this.init()
};
b.prototype={init:function(){},addToBuffer:function(i,j){var h=this._buffers,g;
g=h[i];
g.add(j)
},subscribe:function(g){},initBuffers:function(p,m){if(this._isBufferInitialized&&!m){return
}var o=f.Analytics.Event,i=null,l={},n,h,j,g=this._cfg.buffers||undefined;
for(i in o){if(o.hasOwnProperty(i)&&!l.hasOwnProperty(i)){if(g&&g.hasOwnProperty(i)){n=g[i].strategy;
h=g[i].args||[];
j=new f.Analytics.BufferStrategy[n]();
f.Analytics.BufferStrategy[n].prototype.constructor.apply(j,h);
l[i]=new e(i,p,j)
}else{l[i]=new e(i,p,new f.Analytics.BufferStrategy.InstantFlush())
}}}this._buffers=l;
this._isBufferInitialized=true
},flushBuffer:function(){},trackPage:function(g){},hasBufferedEvents:function(g){if(this._buffers[g]&&this._buffers[g].hasEvents()){return true
}return false
},setBuffers:function(g){this._buffers=g;
this.initBuffers(this,true)
},getBuffers:function(){return this._buffers
},getBuffer:function(g){return this._buffers[g]
},setEncodedPageRequestId:function(g){this._encodedPageRequestId=g
},setTracker:function(g){this._tracker=g
},getTracker:function(){return this._tracker
},setTracked:function(g){this._isPageTracked=g
},isTracked:function(){return this._isPageTracked
}};
f.Analytics.Provider.BaseProvider=b;
d=function(){this._provider=null;
this._buffer=null
};
d.prototype={init:function(){var g=this._provider;
f.on("beforeunload",function(){var j=null,i=g._buffers,h;
for(j in i){if(i.hasOwnProperty(j)){h=i[j];
if(g&&h.hasEvents()){g.flushBuffer(j,false)
}}}})
},onEvent:function(){return
},setProvider:function(g){this._provider=g
},setBuffer:function(g){this._buffer=g
}};
var a=function(){this._name="InstantFlush"
};
f.Analytics.BufferStrategy.InstantFlush=f.extend(a,d,{onEvent:function(){var g=this._buffer,h=this._provider,i=g.getEventId();
if(g.hasEvents()){h.flushBuffer(i,true)
}}});
e=function(g,i,h){this._provider=i;
this._eventId=g;
this._bufferStrategy=h;
this._bufferStrategy.setProvider(i);
this._bufferStrategy.setBuffer(this);
this._bufferStrategy.init();
this._eventbuffer=null
};
e.prototype={add:function(g){if(!this._eventbuffer){this._eventbuffer=[]
}this._eventbuffer.unshift(g);
this._bufferStrategy.onEvent()
},getBuffer:function(){return this._eventbuffer.splice(0,this._eventbuffer.length)
},hasEvents:function(){return this._eventbuffer&&this._eventbuffer.length>0
},getEventId:function(){return this._eventId
},setBufferStrategy:function(g){this._bufferStrategy=g
}};
f.Analytics.Buffer=e;
f.Analytics.BufferStrategy.BaseBufferStrategy=d;
f.Analytics.BufferStrategy.UnloadFlush=d
},"@VERSION@",{requires:["node-base","node-event-delegate","cookie","lang-dom","lang-obj","event-custom","event-delegate","analytics-model","io-base","io-form","querystring-stringify"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.8.1",{requires:["base-base","pluginhost"]});
YUI.add("buffer-delayed",function(b){var a=function(c){this._name="DelayedFlush";
this._timeoutId=undefined;
this._delay=c||2000
};
b.extend(a,b.Analytics.BufferStrategy.BaseBufferStrategy,{onEvent:function(){var d=this._provider,c=this._buffer,e=c.getEventId();
window.clearTimeout(this._timeoutId);
this._timeoutId=setTimeout(function(){if(c.hasEvents()){d.flushBuffer(e,true)
}},this._delay)
}});
b.Analytics.BufferStrategy.DelayedFlush=a
},"@VERSION@",{requires:["analytics"]});
YUI.add("buffer-interval",function(b){var a=function(c){this._name="IntervalFlush";
this._intervalId=undefined;
this._interval=c||3000
};
b.extend(a,b.Analytics.BufferStrategy.BaseBufferStrategy,{onEvent:function(){},init:function(){var d=this._provider,c=this._buffer,e=c.getEventId();
this._intervalId=window.setInterval(function(){if(c.hasEvents()){d.flushBuffer(e,true)
}},this._interval)
}});
b.Analytics.BufferStrategy.IntervalFlush=a
},"@VERSION@",{requires:["analytics"]});
YUI.add("analytics-internaltracking",function(b){var a=function(c){this._name="InternalProvider";
this.constructor.superclass.constructor.apply(this,arguments);
this._cfg=b.merge({serverTime:"",contentType:"application/json; charset=UTF-8",baseUrl:"",prettyFormat:false,serviceEndpoint:{page:"POST /Analytics/Request/{encodedId}/Page",events:"POST /Analytics/Request/{encodedId}/Events"},buffers:{CLICK:{strategy:"IntervalFlush",args:[10000]},HOVER:{strategy:"UnloadFlush"},RESIZE:{strategy:"UnloadFlush"},SCROLL:{strategy:"UnloadFlush"},MANUAL:{strategy:"DelayedFlush",args:[500]},ASYNC:{strategy:"IntervalFlush",args:[250]}}},c);
this._currentPage={}
};
b.extend(a,b.Analytics.Provider.BaseProvider,{init:function(){this.publish(a.PAGE_TRACKED,{broadcast:1,fireOnce:true,async:false})
},getFormat:function(){return this._cfg.prettyFormat?4:null
},getEndpoint:function(f){var d=this._cfg.baseUrl+this._cfg.serviceEndpoint[f],e=b.Lang.sub(d,{encodedId:this._encodedPageRequestId}),c=e.match(/([A-Z]+)\s+(\/.+)/);
c=e.match(/([A-Z]+)\s+(\/.+)/);
return{verb:c[1],url:c[2]}
},convertSections:function(c){var d=[];
c.each(function(e){d.push(e.getAttribute("data-bntrack"))
},this);
return d
},flushBuffer:function(c,f){var i=this.getEndpoint("page"),d=this.getEndpoint("events"),h=f?true:false,k=this,g=this.getBuffer(c),e={};
var j=function(n,l,m){b.io(n.url,{headers:{"Content-Type":k._cfg.contentType},method:n.verb,sync:!h,data:b.JSON.stringify(l,null,k.getFormat()),on:m||e})
};
if(c==="PAGE"){j(i,g,{complete:function(){k.fire(a.PAGE_TRACKED)
}});
this._pageTracked=g
}else{if(c==="ASYNC"){this.on(a.PAGE_TRACKED,function(){var l={},m;
if(g.pages.length>0){for(m=0;
m<g.pages.length;
m++){l=b.mix(l,g.pages[m],false,null,0,true)
}j(i,l)
}if(g.events.length>0){j(d,g.events)
}})
}else{if(c==="ELEMENTVIEW"){this.on(a.PAGE_TRACKED,function(){j(d,g)
})
}else{this.on(a.PAGE_TRACKED,function(){j(d,g)
})
}}}},getBuffer:function(g){var i=this._buffers[g].getBuffer(),c=i.length,d={},f=[],h,j;
switch(g){case"PAGE":if(c>1){b.log("More than one PAGE event added to the buffer","error",this._name)
}else{if(c==1){j=i.pop().pageObj;
j.sections=this.convertSections(this.getTracker().getSections());
return j
}}break;
case"ASYNC":d={};
d.events=[];
d.pages=[];
while(c--){h=i[c];
if(h.event){d.events.push(h.event)
}if(h.pageObj){d.pages.push(h.pageObj)
}}return d;
case"ELEMENTVIEW":while(c--){f.push(i[c].elementObj)
}return f;
case"RESIZE":while(c--){f.push(i[c].elementObj)
}return f;
case"SCROLL":while(c--){f.push(i[c].elementObj)
}return f;
default:while(c--){h=i[c];
d={};
d.type=h.eventId;
d.target=h.eventObj.eventData.pop();
d.timestamp=h.eventObj.timestamp;
d.eventData=h.eventObj.eventData;
d.href=h.eventObj.href;
f.push(d)
}return f
}},getPageTracked:function(){return this._pageTracked
}},{PAGE_TRACKED:"wi:pagetracked"});
b.augment(a,b.EventTarget);
b.Analytics.Provider.InternalProvider=a
},"@VERSION@",{requires:["base-build","base-pluginhost","io-base","analytics","json-stringify","buffer-delayed","buffer-interval","cookie"]});
YUI.add("analytics-comscore",function(b){var a=function(c){this._name="ComscoreProvider";
this.constructor.superclass.constructor.apply(this,arguments);
this.CSINIT="csinit:complete";
this._cfg=b.merge({csClientId:"THIS_VALUE_MUST_BE_SET_VIA_GRIFFIN"},c);
b.publish(this.CSINIT,{broadcast:2,fireOnce:true})
};
b.extend(a,b.Analytics.Provider.BaseProvider,{init:function(){},flushBuffer:function(f){var e=this,d=this._buffers[f].getBuffer(),c;
while(d.length>0){c=d.pop();
switch(c.eventId){case"PAGE":e._trackPage(c);
break;
case"ASYNC":break;
default:break
}}},_trackPage:function(){var d=this.getTracker().getPage();
if(a.IS_TRACKED){return
}var c=this;
this._currentPage=d;
c._tag.call(c);
a.IS_TRACKED=true
},_tag:function(g){window._comscore=window._comscore||[];
var d=this,f=g||false,e=window._comscore,c=document.location.protocol==="https:"?"https://sb":"http://b";
e.push({c1:"2",c2:this._cfg.csClientId});
b.Get.script(c+".scorecardresearch.com/beacon.js",{async:true,onEnd:function(){b.fire(d.CSINIT)
}})
}},{});
b.augment(a,b.EventTarget);
b.Analytics.Provider.ComscoreProvider=a
},"@VERSION",{requires:["base-build","base-pluginhost","analytics","analytics-model","buffer-delayed","buffer-interval","event-custom"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.8.1",{requires:["yui-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("querystring-parse",function(e,t){var n=e.namespace("QueryString"),r=function(t){return function r(i,s){var o,u,a,f,l;return arguments.length!==2?(i=i.split(t),r(n.unescape(i.shift()),n.unescape(i.join(t)))):(i=i.replace(/^\s+|\s+$/g,""),e.Lang.isString(s)&&(s=s.replace(/^\s+|\s+$/g,""),isNaN(s)||(u=+s,s===u.toString(10)&&(s=u))),o=/(.*)\[([^\]]*)\]$/.exec(i),o?(f=o[2],a=o[1],f?(l={},l[f]=s,r(a,l)):r(a,[s])):(l={},i&&(l[i]=s),l))}},i=function(t,n){return t?e.Lang.isArray(t)?t.concat(n):!e.Lang.isObject(t)||!e.Lang.isObject(n)?[t].concat(n):s(t,n):n},s=function(e,t){for(var n in t)n&&t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e};n.parse=function(t,n,s){return e.Array.reduce(e.Array.map(t.split(n||"&"),r(s||"=")),{},i)},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.8.1",{requires:["yui-base","array-extras"]});
YUI.add("analytics-coremetrics",function(a){var b=function(c){this._name="CoremetricsProvider";
this.constructor.superclass.constructor.apply(this,arguments);
this.CMINIT="cminit:complete";
this.PAGEVIEW="cmpageview:complete";
this._methodSignatures={cmCreatePageviewTag:["pageId","categoryId","searchString","searchResults","attributes","extraFields"],cmSetClientID:["clientId","firstPartyCM","dataCollectionDomain","cookieDomain","autoLoad"]};
this._timeoutId=undefined;
this._delimiter="-_-";
this._subDelimiter="_";
this._tagModes={1:"cm_sp",2:"cm_re"};
this._cfg=a.merge({cmClientId:"THIS_VALUE_MUST_BE_SET_VIA_GRIFFIN",cmIsLoadedIndicatorFunc:"cmExecuteTagQueue",firstPartyCM:true,dataCollectionDomain:"THIS_VALUE_MUST_BE_SET_VIA_GRIFFIN",cookieDomain:"barnesandnoble.com",autoLoad:undefined,lazyLoadDelay:800,pollingInterval:500},c);
this._isLoaded=false;
var d=this;
a.publish(this.CMINIT,{broadcast:2,fireOnce:true});
a.publish(this.PAGEVIEW,{broadcast:2,fireOnce:true});
d._initClientId()
};
a.extend(b,a.Analytics.Provider.BaseProvider,{init:function(){},flushBuffer:function(f){var e=this,d=this._buffers[f].getBuffer(),c;
while(d.length>0){c=d.pop();
switch(c.eventId){case"PAGE":e._trackABElementView(c);
e._trackPage(c);
break;
case"ASYNC":break;
case"ELEMENTVIEW":break;
default:e._trackEvent(c.eventObj);
break
}}},_trackABElementView:function(c){var d=this;
this.on(this.PAGEVIEW,function(g){var f=d.getTracker().getPage().testCell;
if(f!==""){window.cmCreateElementTag.call(null,f)
}})
},_trackEvent:function(c){if(c){var d=(c.isPageAware)?1:2;
this._tag.call(this,c.eventData.concat([]),d,c.eventObj)
}},_trackPage:function(){var d=this.getTracker().getPage();
if(b.IS_TRACKED){return
}var c=this;
this._currentPage=d;
a.on(this.CMINIT,function(){c._tagPageView.call(c);
b.IS_TRACKED=true;
c.fire(c.PAGEVIEW)
})
},_mapPgToPageviewTag:function(f){var e=f||this._tracker.getPage();
e.parameters=e.parameters||{};
function c(){var g="";
if(e.categoryId){g=e.categoryId
}else{if(e.parameters.extendedStoreSubject){g=e.parameters.extendedStoreSubject
}else{if(e.pageSubCategory){g=e.pageSubCategory
}else{g=e.parameters.searchOption||"";
g+=e.parameters.searchOption&&e.pageName?": ":"";
g+=e.pageName||""
}}}return g
}function d(){var h=e.pageId,g;
if(!h&&e.pageType){g=String(e.pageType);
if(g.indexOf("product.sample.")===0){h=e.categoryId+">EAN="+e.parameters.ean
}else{if(g.indexOf("product.")===0){h="PRODUCT:"+e.parameters.title+"("+e.parameters.ean+")"
}else{if(g.indexOf("search.")===0){h="Page ";
h+=e.parameters.paginationPage||"0";
if(String(e.pageType).indexOf(".contributor")!=-1){h="Contributor "+h
}}else{h=e.pageType
}}}}return h
}return{pageId:d(),categoryId:c(),searchString:e.parameters.searchTerm,searchResults:e.parameters.numOfResults,extraFields:[e.userId,"",e.siteId,e.isRecognized,e.testCell,e.appVersion]}
},_tagPageView:function(f){var d=this._objToFuncParams(this._mapPgToPageviewTag(),"cmCreatePageviewTag"),e=f||false,c=window.cmCreatePageviewTag;
if(e){return d
}c.apply(null,d)
},_tag:function(o,i,k){var f;
var j=this._tracker.getPage();
var n=(i==1||i==2)?this._tagModes[i]:this._tagModes["1"];
var h=k.currentTarget;
var d=j.pageType.split(".");
var l=d.pop();
var g=j.pageName||l;
var c;
if(i==1||!i){if(o[0]!="Global_Nav"&&o[0]!="Footer"){o[0]=g+"_"+o[0]
}}f=this._delimitEvent(o);
f=encodeURI(f);
try{c=h?h.getAttribute("href"):""
}catch(m){c=""
}c=this._mixQuerystring(c,n+"="+f);
this._tagMan(c)
},_tagMan:function(c){var d=window.cmCreateManualLinkClickTag;
if(typeof d!=="function"){return
}d(c)
},_initClientId:function(g){var d=this;
var f,e,c;
f={clientId:d._cfg.cmClientId,firstPartyCM:true,dataCollectionDomain:d._cfg.dataCollectionDomain,cookieDomain:d._cfg.cookieDomain,autoLoad:undefined};
e=d._objToFuncParams(f,"cmSetClientID");
if(typeof window.cmSetClientID!=="undefined"&&window.cmSetClientID!=null){c=window.cmSetClientID.apply(null,e)
}a.fire(d.CMINIT)
},_delimitEvent:function(c){var f=this._delimiter;
var e=this._subDelimiter;
var d="";
while(c.length<3){c.push("NA")
}d=c.slice(0,3).join(f);
if(c.length>3){d+=e+c.slice(3).join(e)
}return d
},_delimit:function(c){var d=this._delimiter;
return c.join(d)
},_objToFuncParams:function(j,h){var l,g,f,e,d,c;
l=this._methodSignatures[h];
g=[];
for(f=0,c=l.length;
f<c;
f++){e=l[f];
d=j[e];
if(d instanceof Array){d=this._delimit(d)
}g.push(d)
}return g
},isEluminateLoaded:function(){var c=this._cfg.cmIsLoadedIndicatorFunc;
return(typeof window[c]!=="undefined")
},_mixQuerystring:function(d,j){var c=this,i=c._parseUri(d),g=!i.query||i.query==""?{}:a.QueryString.parse(i.query),e=a.QueryString.parse(j),f="";
if(c._isEmpty(e)){f=d
}else{if(c._isEmpty(g)){f=d+"?"+j
}else{f=d+"&"+j
}}return f+((i.hash)?"#"+i.hash:"")
},_isEmpty:function(c){var d=null;
for(d in c){if(c.hasOwnProperty(d)){return false
}}return true
},_parseUri:function(g){var f={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c=f.parser[f.strictMode?"strict":"loose"].exec(g),e={},d=14;
while(d--){e[f.key[d]]=c[d]||""
}e[f.q.name]={};
e[f.key[12]].replace(f.q.parser,function(i,h,j){if(h){e[f.q.name][h]=j
}});
return e
}},{IS_TRACKED:false,IS_LOADING:false});
a.augment(b,a.EventTarget);
a.Analytics.Provider.CoremetricsProvider=b
},"@VERSION@",{requires:["base","analytics","analytics-model","buffer-delayed","querystring","event-custom"]});
YUI.add("async-semaphore",function(b){var a="AsyncSemaphore";
b.namespace("Util")[a]=b.Base.create(a,b.Base,[b.EventTarget],{acquire:function(){this.semaphoreCount++;
return this
},release:function(){this.semaphoreCount--;
this.checkAvailability();
return this
},start:function(){this.ready=true;
this.checkAvailability();
return this
},stop:function(){this.ready=false;
return this
},checkAvailability:function(){if(this.semaphoreCount===0&&this.ready===true){this.fire("asem:available");
return true
}return false
},initializer:function(c){this.semaphoreCount=(c&&c.startCount>0)?c.startCount:0;
this.ready=(c&&c.startReady===true)?true:false;
this.publish("asem:available",{emitFacade:true,fireOnce:true});
this.on("asem:acquire",this.acquire);
this.on("asem:release",this.relase);
this.on("asem:start",this.start);
this.on("asem:stop",this.stop)
}},{})
},"@VERSION",{requires:["base-build","event-custom-base","event-custom-complex"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.8.1");
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.8.1",{requires:["io-base","datatype-xml-parse"]});
YUI.add("account-signin-event",function(b){var a=b.namespace("Account");
a.SIGNED_IN="signin:signedIn";
a.NOT_SIGNED_IN="signin:notSignedIn";
a.FORGOT_PASSWORD="signin:forgotPassword";
a.CREATE_ACCOUNT="signin:createAccount";
a.SIGNIN_STATUS_CHANGE="signin:statusChange";
a.SIGNED_OUT="signin:signedOut";
a.CLOSE_SIGNIN_REGISTRATION="signin:close";
a.SIGNIN_MESSAGE_NAME="bn-signin";
a.SignInEvent=b.Base.create("SignInEvent",b.Base,[b.EventTarget],{initializer:function(d){var c={fireOnce:true,emitFacade:false,broadcast:1};
this.publish(a.SIGNED_IN,c);
this.publish(a.NOT_SIGNED_IN,c);
this.publish(a.SIGNED_OUT,c);
this.publish(a.FORGOT_PASSWORD,c);
this.publish(a.CREATE_ACCOUNT,c);
this.publish(a.SIGNIN_STATUS_CHANGE,{fireOnce:false,broadcast:1})
},process:function(c,d){this.fire(c,d)
},signedIn:function(c){this.process(a.SIGNED_IN,c)
},notSignedIn:function(c){this.process(a.NOT_SIGNED_IN,c)
},signedOut:function(c){this.process(a.SIGNED_OUT,c)
},createAccount:function(c){this.process(a.CREATE_ACCOUNT,c)
},forgotPassword:function(c){this.process(a.FORGOT_PASSWORD,c)
},statusChanged:function(c){this.process(a.SIGNIN_STATUS_CHANGE,c)
}},{})
},"@VERSION",{requires:["event-custom","base-build"]});
YUI.add("account-signin-check",function(b){var a=b.namespace("Account");
a.DEFAULT_SIGNIN_URLS=b.merge({checkUrl:"/signin/check"},a.DEFAULT_SIGNIN_URLS);
a.SignInCheck=b.Base.create("SignInCheck",b.Base,[],{isUserSignedIn:function(d){var g=new a.SignInEvent(),f=this.get("checkUrl")||a.DEFAULT_SIGNIN_URLS.checkUrl,c={data:{ts:(new Date()).getTime()},timeout:3000,sync:true,context:this,headers:{"Content-Type":"text/plain"},on:{success:this._parseAndHandleResponse,failure:this._handleSigninCheckFailure},"arguments":d};
this.set("signinEvent",g);
try{if(window.location.protocol.indexOf("s")!==-1){f+="/secure"
}if(f.indexOf("/")!==0&&f.indexOf(window.location.host)===-1){c.xdr={use:"native",credentials:true}
}b.io(f,c)
}catch(h){}return g
},_parseAndHandleResponse:function(h,c,d){var f=null;
if(c&&c.responseText){try{f=b.JSON.parse(c.responseText)
}catch(g){}}this._handleSignedInCheckResponse(f,d)
},_handleSignedInCheckResponse:function(f,d){var e,c;
e=this.get("signinEvent");
if(e){if(f&&f.isSignedIn&&f.isSignedIn.success===true){e.signedIn();
c=true;
if(d&&d.triggerStatusChange){e.statusChanged()
}}else{this._notSignedIn();
c=false
}this._updateSignedInStatus(c)
}},_handleSigninCheckFailure:function(e,c,d){this._notSignedIn()
},_notSignedIn:function(){var c=this.get("signinEvent");
if(c){c.notSignedIn();
c.on(a.SIGNED_IN,this._updateSignedInStatus,this,true)
}},_updateSignedInStatus:function(d){var c=this.get("signedInStatus");
var e=null;
if(c!==d){this.set("signedInStatus",d);
if(c!==null){e=this.get("signinEvent");
if(e){e.statusChanged()
}}}}},{ATTRS:{checkUrl:{value:null},signedInStatus:{value:null}}})
},"@VERSION",{requires:["io-base","io-xdr","account-signin-event","base-build","json-parse","querystring-stringify-simple"]});
YUI.add("communicator-cookie-messenger",function(a){a.namespace("Communication")["CookieMessenger"]=a.Base.create("CookieMessenger",a.Base,[a.EventTarget],{initializer:function(b){if(b){if(b.cookieName){this.set("cookieName",b.cookieName)
}if(b.pollTimeout){this.set("pollTimeout",b.pollTimeout)
}if(b.messageNames){this.set("messageNames",b.messageNames)
}}},listen:function(){if(this.get("messageNames").length===0||this.get("poller")){return
}var b=(new Date()).getTime();
var c=this.get("cookieName");
if(a.Cookie.exists(c)){this._check(b);
a.Cookie.remove(c)
}this.set("poller",a.later(this.get("pollInterval"),this,this._check,b,true))
},_check:function(d){var f=false;
var g=this.get("cookieName");
var c=a.Cookie.getSubs(g);
if(c){var b=this.get("messageNames");
var e=a.Array.reject(b,function(h){if(c[h]){this.receive(h,c[h]);
a.Cookie.removeSub(g,h,this._getCookieOptions());
return true
}return false
},this);
if(e.length===0){f=true
}else{if(b.length!==e.length){this.set("messageNames",e)
}}}if(f===true||((new Date()).getTime()-d)>this.get("pollTimeout")){this.stop()
}},receive:function(c,f){var d=f;
try{d=a.JSON.parse(f)
}catch(g){}var b="inter-window-message:"+c;
this.publish(b,{broadcast:1});
this.fire(b,d)
},send:function(c,d){var b=a.JSON.stringify(d);
a.Cookie.setSub(this.get("cookieName"),c,b,this._getCookieOptions())
},stop:function(){var b=this.get("poller");
if(b){b.cancel()
}this.reset("poller")
},_getCookieOptions:function(){return{path:this.get("cookiePath"),domain:this.get("cookieDomain")}
},destructor:function(){this.stop()
}},{ATTRS:{cookieName:{value:"bn-comm"},cookieDomain:{valueFn:function(){return"."+window.location.hostname.split(".").slice(-2).join(".")
}},cookiePath:{value:"/"},pollInterval:{value:200},pollTimeout:{value:300000},poller:{value:null},messageNames:{value:null}}})
},"@VERSION",{requires:["base-build","event-custom","cookie","json","yui-later","array-extras"]});
YUI.add("communicator-window-messenger",function(a){a.namespace("Communication")["WindowMessenger"]=a.Base.create("WindowMessenger",a.Base,[a.EventTarget],{initializer:function(b){if(b){if(b.otherWindow){this.addWindow(b.otherWindow)
}if(b.messageNames){this.set("messageNames",b.messageNames)
}}},listen:function(){var b=a.one("window").on("message",function(c){if(c&&c._event){if(c._event.data){this._check(this._parseIncomingMessage(c._event.data))
}}},this);
this.set("listenerHandle",b)
},_check:function(f){var e=false;
if(f&&f.name){var c=f.name;
var b=this.get("messageNames");
var d=a.Array.reject(b,function(g){if(g===c){this.receive(c,f.message);
return true
}else{return false
}},this);
if(d.length===0){e=true
}else{if(b.length!==d.length){this.set("messageNames",d)
}}}if(e){this.stop()
}},_parseIncomingMessage:function(d){var b=d;
if(a.Lang.isString(d)){try{b=a.JSON.parse(d)
}catch(c){}}return b
},receive:function(c,d){var b="inter-window-message:"+c;
this.publish(b,{broadcast:1});
this.fire(b,d)
},send:function(b,c){var d={name:b,message:c};
var g=d;
if(a.UA.gecko<6){g="";
try{g=a.JSON.stringify(d)
}catch(f){}}a.each(this.get("allOtherWindows"),function(e){e.postMessage(g,this.get("safeDomain"))
},this)
},stop:function(){var b=this.get("listenerHandle");
if(b){b.detach()
}},addWindow:function(b){if(b){var c=this.get("allOtherWindows");
if(!c){c=[]
}c.push(b);
this.set("allOtherWindows",c)
}},destructor:function(){this.stop()
}},{ATTRS:{messageNames:{value:null},safeDomain:{value:"*"},listenerHandle:{}}})
},"@VERSION",{requires:["base-build","node-base","event-custom","array-extras","json"]});
YUI.add("inter-window-communicator",function(a){a.namespace("Communication")["InterWindowCommunicator"]={isWindowMessageSupported:function(){return((a.UA.ie===0)&&(typeof window.postMessage==="function")&&(!a.UA.ios))?true:false
},getMessenger:function(b){var c=null;
if(a.Communication.InterWindowCommunicator.isWindowMessageSupported()){c=new a.Communication.WindowMessenger(b)
}else{c=new a.Communication.CookieMessenger(b)
}return c
}}
},"@VERSION",{requires:["communicator-cookie-messenger","communicator-window-messenger","node-base"]});
YUI.add("account-signin-popup",function(c){var a=c.namespace("Account");
a.DEFAULT_SIGNIN_URLS=c.merge({popupUrl:"/signin/popup"},a.DEFAULT_SIGNIN_URLS);
var b=null;
a.SignInPopup=c.Base.create("SignInPopup",c.Base,[],{initializer:function(d){var e=null;
if(d){if(d.signinEvent){if(d.closePopUpAfterSignIn!==false&&typeof d.closePopUpAfterSignIn==="undefined"){d.signinEvent.before([a.SIGNED_IN,a.FORGOT_PASSWORD,a.CREATE_ACCOUNT,a.CLOSE_SIGNIN_REGISTRATION],this.closePopup,this)
}this.set("signinEvent",d.signinEvent)
}if(d.popupUrl){this.set("popupUrl",d.popupUrl)
}if(d.customPopupCfg){e=this.get("popupCfg");
e=c.merge(e,d.customPopupCfg);
this.set("popupCfg",e)
}}},openPopup:function(){var e=null;
var g=this.get("popupCfg"),d="";
c.each(g,function(i,h){d=d+h+"="+g[h]+","
});
d=d.substring(0,d.length-1);
e=window.open(this.get("popupUrl")||a.DEFAULT_SIGNIN_URLS.popupUrl,this.get("popupName"),d);
if(this._hasPopupOpened(e)){e.focus();
var f="inter-window-message:"+a.SIGNIN_MESSAGE_NAME;
if(b){b.detachAll(f);
b.destroy();
b=null
}b=c.Communication.InterWindowCommunicator.getMessenger({otherWindow:e});
b.set("messageNames",[a.SIGNIN_MESSAGE_NAME]);
b.on(f,this._handleMessage,this);
b.listen()
}this.set("popup",e)
},closePopup:function(g){var f=(g&&g.eventName)?g.eventName.replace("signin:",""):null,d;
if(f===null||(typeof a.DEFAULT_PAGE_ACTIONS[f]==="undefined"||a.DEFAULT_PAGE_ACTIONS[f])){d=this.get("popup");
if(d&&!d.closed){d.close()
}}},_hasPopupOpened:function(d){if(!d||d.closed||typeof d=="undefined"||typeof d.closed=="undefined"){return false
}return true
},_handleMessage:function(d){this.get("signinEvent").process(d.eventName,d)
}},{ATTRS:{popupCfg:{value:{scrollbars:"yes",menubar:0,height:440,width:600,resizable:1,toolbar:0,location:0,status:1,top:200,left:300}},popupUrl:{value:null},popupName:{value:"signinPopup"},popup:{}}})
},"@VERSION",{requires:["base-build","account-signin-event","inter-window-communicator"]});
YUI.add("account-signin-base",function(c){var a="SignIn";
var b=c.namespace("Account");
b[a]=c.Base.create(a,c.Base,[c.EventTarget],{initializer:function(d){this.set("signinCheck",new b.SignInCheck())
},signInUser:function(d){if(!c.Lang.isObject(d,true)){d={}
}var f=this.get("signinCheck");
var e=f.isUserSignedIn(d);
d.signinEvent=e;
e.once(b.NOT_SIGNED_IN,this.openPopup,this,d);
return e
},signOut:function(){var d=new b.SignInEvent();
c.io(this.get("signoutUrl"),{sync:true,context:this,on:{success:function(){d.signedOut();
d.statusChanged()
}}});
return d
},openPopup:function(f,d){if(!c.Lang.isObject(d,true)){d={}
}if(!d.signinEvent){d.signinEvent=new b.SignInEvent()
}var e=new b.SignInPopup(d);
e.openPopup();
return d.signinEvent
}},{ATTRS:{signoutUrl:{valueFn:function(){return"https://"+window.location.hostname+"/signout"
}},signinCheck:{value:null}}})
},"@VERSION@",{requires:["base-build","event-custom","cookie","json-stringify","async-semaphore","account-signin-check","account-signin-event","account-signin-popup"]});
YUI.add("account-signin",function(d){var a=d.namespace("Account");
var c=null;
var b=function(){if(!c){c=new d.Account.SignIn()
}return c
};
a.signInUser=function(){var e=b();
return e.signInUser.apply(e,arguments)
};
a.signOut=function(){var e=b();
return e.signOut.apply(e,arguments)
};
a.DEFAULT_PAGE_ACTIONS=a.DEFAULT_PAGE_ACTIONS||{};
a.setDefaultPageActions=function(e){a.DEFAULT_PAGE_ACTIONS=d.merge(a.DEFAULT_PAGE_ACTIONS,e);
return a.DEFAULT_PAGE_ACTIONS
};
a.DEFAULT_SIGNIN_URLS=a.DEFAULT_SIGNIN_URLS||{};
a.setDefaultSignInUrls=function(e){var f={};
if(e){a.DEFAULT_SIGNIN_URLS=d.merge(a.DEFAULT_SIGNIN_URLS,e);
d.each(e,function(h,g){f[g.replace(/Url$/,"")]=(h)?true:false
});
a.setDefaultPageActions(f)
}return a.DEFAULT_SIGNIN_URLS
}
},"@VERSION",{requires:["account-signin-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("event-simulate",function(e,t){(function(){function d(t,u,a,f,l,c,h,p,d,v,m){t||e.error("simulateKeyEvent(): Invalid target.");if(r(u)){u=u.toLowerCase();switch(u){case"textevent":u="keypress";break;case"keyup":case"keydown":case"keypress":break;default:e.error("simulateKeyEvent(): Event type '"+u+"' not supported.")}}else e.error("simulateKeyEvent(): Event type must be a string.");i(a)||(a=!0),i(f)||(f=!0),s(l)||(l=e.config.win),i(c)||(c=!1),i(h)||(h=!1),i(p)||(p=!1),i(d)||(d=!1),o(v)||(v=0),o(m)||(m=0);var g=null;if(n(e.config.doc.createEvent)){try{g=e.config.doc.createEvent("KeyEvents"),g.initKeyEvent(u,a,f,l,c,h,p,d,v,m)}catch(y){try{g=e.config.doc.createEvent("Events")}catch(b){g=e.config.doc.createEvent("UIEvents")}finally{g.initEvent(u,a,f),g.view=l,g.altKey=h,g.ctrlKey=c,g.shiftKey=p,g.metaKey=d,g.keyCode=v,g.charCode=m}}t.dispatchEvent(g)}else s(e.config.doc.createEventObject)?(g=e.config.doc.createEventObject(),g.bubbles=a,g.cancelable=f,g.view=l,g.ctrlKey=c,g.altKey=h,g.shiftKey=p,g.metaKey=d,g.keyCode=m>0?m:v,t.fireEvent("on"+u,g)):e.error("simulateKeyEvent(): No event simulation framework present.")}function v(t,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){t||e.error("simulateMouseEvent(): Invalid target."),r(f)?!u[f.toLowerCase()]&&!a[f]&&e.error("simulateMouseEvent(): Event type '"+f+"' not supported."):e.error("simulateMouseEvent(): Event type must be a string."),i(l)||(l=!0),i(c)||(c=f!=="mousemove"),s(h)||(h=e.config.win),o(p)||(p=1),o(d)||(d=0),o(v)||(v=0),o(m)||(m=0),o(g)||(g=0),i(y)||(y=!1),i(b)||(b=!1),i(w)||(w=!1),i(E)||(E=!1),o(S)||(S=0),x=x||null;var T=null;if(n(e.config.doc.createEvent))T=e.config.doc.createEvent("MouseEvents"),T.initMouseEvent?T.initMouseEvent(f,l,c,h,p,d,v,m,g,y,b,w,E,S,x):(T=e.config.doc.createEvent("UIEvents"),T.initEvent(f,l,c),T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w,T.button=S,T.relatedTarget=x),x&&!T.relatedTarget&&(f==="mouseout"?T.toElement=x:f==="mouseover"&&(T.fromElement=x)),t.dispatchEvent(T);else if(s(e.config.doc.createEventObject)){T=e.config.doc.createEventObject(),T.bubbles=l,T.cancelable=c,T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w;switch(S){case 0:T.button=1;break;case 1:T.button=4;break;case 2:break;default:T.button=0}T.relatedTarget=x,t.fireEvent("on"+f,T)}else e.error("simulateMouseEvent(): No event simulation framework present.")}function m(t,u,a,f,h,p){t||e.error("simulateUIEvent(): Invalid target."),r(u)?(u=u.toLowerCase(),l[u]||e.error("simulateUIEvent(): Event type '"+u+"' not supported.")):e.error("simulateUIEvent(): Event type must be a string.");var d=null;i(a)||(a=u in c),i(f)||(f=u==="submit"),s(h)||(h=e.config.win),o(p)||(p=1),n(e.config.doc.createEvent)?(d=e.config.doc.createEvent("UIEvents"),d.initUIEvent(u,a,f,h,p),t.dispatchEvent(d)):s(e.config.doc.createEventObject)?(d=e.config.doc.createEventObject(),d.bubbles=a,d.cancelable=f,d.view=h,d.detail=p,t.fireEvent("on"+u,d)):e.error("simulateUIEvent(): No event simulation framework present.")}function g(t,n,r,i,s,o,u,a,f,l,c,h,d,v,m,g){var y;(!e.UA.ios||e.UA.ios<2)&&e.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform."),t||e.error("simulateGestureEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),p[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateGestureEvent(): Event type must be a string."),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=!0),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=2),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(h)||(h=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(m)||(m=1),e.Lang.isNumber(g)||(g=0),y=e.config.doc.createEvent("GestureEvent"),y.initGestureEvent(n,r,i,s,o,u,a,f,l,c,h,d,v,t,m,g),t.dispatchEvent(y)}function y(t,n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w){var E;t||e.error("simulateTouchEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),h[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateTouchEvent(): Event type must be a string."),n==="touchstart"||n==="touchmove"?m.length===0&&e.error("simulateTouchEvent(): No touch object in touches"):n==="touchend"&&y.length===0&&e.error("simulateTouchEvent(): No touch object in changedTouches"),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=n!=="touchcancel"),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=1),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(p)||(p=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(b)||(b=1),e.Lang.isNumber(w)||(w=0),e.Lang.isFunction(e.config.doc.createEvent)?(e.UA.android?e.UA.android<4?(E=e.config.doc.createEvent("MouseEvents"),E.initMouseEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,0,t),E.touches=m,E.targetTouches=g,E.changedTouches=y):(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(m,g,y,n,s,u,a,f,l,c,p,d,v)):e.UA.ios?e.UA.ios>=2?(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w)):e.error("simulateTouchEvent(): No touch event simulation framework present for iOS, "+e.UA.ios+"."):e.error("simulateTouchEvent(): Not supported agent yet, "+e.UA.userAgent),t.dispatchEvent(E)):e.error("simulateTouchEvent(): No event simulation framework present.")}var t=e.Lang,n=t.isFunction,r=t.isString,i=t.isBoolean,s=t.isObject,o=t.isNumber,u={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,contextmenu:1},a={MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},f={keydown:1,keyup:1,keypress:1},l={submit:1,blur:1,change:1,focus:1,resize:1,scroll:1,select:1},c={scroll:1,resize:1,reset:1,submit:1,change:1,select
:1,error:1,abort:1},h={touchstart:1,touchmove:1,touchend:1,touchcancel:1},p={gesturestart:1,gesturechange:1,gestureend:1};e.mix(c,u),e.mix(c,f),e.mix(c,h),e.Event.simulate=function(t,n,r){r=r||{},u[n]||a[n]?v(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget):f[n]?d(t,n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode):l[n]?m(t,n,r.bubbles,r.cancelable,r.view,r.detail):h[n]?e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6)?y(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.touches,r.targetTouches,r.changedTouches,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated. Use gesture-simulate module instead."):e.UA.ios&&e.UA.ios>=2&&p[n]?g(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated.")}})()},"3.8.1",{requires:["event-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("async-queue",function(e,t){e.AsyncQueue=function(){this._init(),this.add.apply(this,arguments)};var n=e.AsyncQueue,r="execute",i="shift",s="promote",o="remove",u=e.Lang.isObject,a=e.Lang.isFunction;n.defaults=e.mix({autoContinue:!0,iterations:1,timeout:10,until:function(){return this.iterations|=0,this.iterations<=0}},e.config.queueDefaults||{}),e.extend(n,e.EventTarget,{_running:!1,_init:function(){e.EventTarget.call(this,{prefix:"queue",emitFacade:!0}),this._q=[],this.defaults={},this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:!0},shift:{defaultFn:this._defShiftFn,emitFacade:!0},add:{defaultFn:this._defAddFn,emitFacade:!0},promote:{defaultFn:this._defPromoteFn,emitFacade:!0},remove:{defaultFn:this._defRemoveFn,emitFacade:!0}})},next:function(){var e;while(this._q.length){e=this._q[0]=this._prepare(this._q[0]);if(!e||!e.until())break;this.fire(i,{callback:e}),e=null}return e||null},_defShiftFn:function(e){this.indexOf(e.callback)===0&&this._q.shift()},_prepare:function(t){if(a(t)&&t._prepared)return t;var r=e.merge(n.defaults,{context:this,args:[],_prepared:!0},this.defaults,a(t)?{fn:t}:t),i=e.bind(function(){i._running||i.iterations--,a(i.fn)&&i.fn.apply(i.context||e,e.Array(i.args))},this);return e.mix(i,r)},run:function(){var e,t=!0;for(e=this.next();t&&e&&!this.isRunning();e=this.next())t=e.timeout<0?this._execute(e):this._schedule(e);return e||this.fire("complete"),this},_execute:function(e){this._running=e._running=!0,e.iterations--,this.fire(r,{callback:e});var t=this._running&&e.autoContinue;return this._running=e._running=!1,t},_schedule:function(t){return this._running=e.later(t.timeout,this,function(){this._execute(t)&&this.run()}),!1},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){return this.fire("add",{callbacks:e.Array(arguments,0,!0)}),this},_defAddFn:function(t){var n=this._q,r=[];e.Array.each(t.callbacks,function(e){u(e)&&(n.push(e),r.push(e))}),t.added=r},pause:function(){return u(this._running)&&this._running.cancel(),this._running=!1,this},stop:function(){return this._q=[],this.pause()},indexOf:function(e){var t=0,n=this._q.length,r;for(;t<n;++t){r=this._q[t];if(r===e||r.id===e)return t}return-1},getCallback:function(e){var t=this.indexOf(e);return t>-1?this._q[t]:null},promote:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(s,t),n.detach()},this):this.fire(s,t),this},_defPromoteFn:function(e){var t=this.indexOf(e.callback),n=t>-1?this._q.splice(t,1)[0]:null;e.promoted=n,n&&this._q.unshift(n)},remove:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(o,t),n.detach()},this):this.fire(o,t),this},_defRemoveFn:function(e){var t=this.indexOf(e.callback);e.removed=t>-1?this._q.splice(t,1)[0]:null},size:function(){return this.isRunning()||this.next(),this._q.length}})},"3.8.1",{requires:["event-custom"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("gesture-simulate",function(e,t){function T(n){n||e.error(t+": invalid target node"),this.node=n,this.target=e.Node.getDOMNode(n);var r=this.node.getXY(),i=this._getDims();a=r[0]+i[0]/2,f=r[1]+i[1]/2}var t="gesture-simulate",n=e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6),r={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},i={touchstart:1,touchmove:1,touchend:1,touchcancel:1},s=e.config.doc,o,u=20,a,f,l={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},c="touchstart",h="touchmove",p="touchend",d="gesturestart",v="gesturechange",m="gestureend",g="mouseup",y="mousemove",b="mousedown",w="click",E="dblclick",S="x",x="y";T.prototype={_toRadian:function(e){return e*(Math.PI/180)},_getDims:function(){var e,t,n;return this.target.getBoundingClientRect?(e=this.target.getBoundingClientRect(),"height"in e?n=e.height:n=Math.abs(e.bottom-e.top),"width"in e?t=e.width:t=Math.abs(e.right-e.left)):(e=this.node.get("region"),t=e.width,n=e.height),[t,n]},_calculateDefaultPoint:function(t){var n;return!e.Lang.isArray(t)||t.length===0?t=[a,f]:(t.length==1&&(n=this._getDims[1],t[1]=n/2),t[0]=this.node.getX()+t[0],t[1]=this.node.getY()+t[1]),t},rotate:function(n,r,i,s,o,u,a){var f,l=i,c=s;if(!e.Lang.isNumber(l)||!e.Lang.isNumber(c)||l<0||c<0)f=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4,l=f,c=f;e.Lang.isNumber(a)||e.error(t+"Invalid rotation detected."),this.pinch(n,r,l,c,o,u,a)},pinch:function(n,r,i,s,o,a,f){var g,y,b=u,w,E=0,S=i,x=s,T,N,C,k,L,A,O,M,_,D={start:[],end:[]},P={start:[],end:[]},H,B;r=this._calculateDefaultPoint(r),(!e.Lang.isNumber(S)||!e.Lang.isNumber(x)||S<0||x<0)&&e.error(t+"Invalid startRadius and endRadius detected.");if(!e.Lang.isNumber(o)||o<=0)o=l.DURATION_PINCH;if(!e.Lang.isNumber(a))a=0;else{a%=360;while(a<0)a+=360}e.Lang.isNumber(f)||(f=0),e.AsyncQueue.defaults.timeout=b,g=new e.AsyncQueue,N=r[0],C=r[1],O=a,M=a+f,D.start=[N+S*Math.sin(this._toRadian(O)),C-S*Math.cos(this._toRadian(O))],D.end=[N+x*Math.sin(this._toRadian(M)),C-x*Math.cos(this._toRadian(M))],P.start=[N-S*Math.sin(this._toRadian(O)),C+S*Math.cos(this._toRadian(O))],P.end=[N-x*Math.sin(this._toRadian(M)),C+x*Math.cos(this._toRadian(M))],k=1,L=s/i,g.add({fn:function(){var t,n,r,i;t={pageX:D.start[0],pageY:D.start[1],clientX:D.start[0],clientY:D.start[1]},n={pageX:P.start[0],pageY:P.start[1],clientX:P.start[0],clientY:P.start[1]},i=this._createTouchList([e.merge({identifier:E++},t),e.merge({identifier:E++},n)]),r={pageX:(D.start[0]+P.start[0])/2,pageY:(D.start[0]+P.start[1])/2,clientX:(D.start[0]+P.start[0])/2,clientY:(D.start[0]+P.start[1])/2},this._simulateEvent(this.target,c,e.merge({touches:i,targetTouches:i,changedTouches:i,scale:k,rotation:O},r)),e.UA.ios>=2&&this._simulateEvent(this.target,d,e.merge({scale:k,rotation:O},r))},timeout:0,context:this}),H=Math.floor(o/b),T=(x-S)/H,A=(L-k)/H,_=(M-O)/H,B=function(t){var n=S+T*t,r=N+n*Math.sin(this._toRadian(O+_*t)),i=C-n*Math.cos(this._toRadian(O+_*t)),s=N-n*Math.sin(this._toRadian(O+_*t)),o=C+n*Math.cos(this._toRadian(O+_*t)),u=(r+s)/2,a=(i+o)/2,f,l,c,p;f={pageX:r,pageY:i,clientX:r,clientY:i},l={pageX:s,pageY:o,clientX:s,clientY:o},p=this._createTouchList([e.merge({identifier:E++},f),e.merge({identifier:E++},l)]),c={pageX:u,pageY:a,clientX:u,clientY:a},this._simulateEvent(this.target,h,e.merge({touches:p,targetTouches:p,changedTouches:p,scale:k+A*t,rotation:O+_*t},c)),e.UA.ios>=2&&this._simulateEvent(this.target,v,e.merge({scale:k+A*t,rotation:O+_*t},c))};for(y=0;y<H;y++)g.add({fn:B,args:[y],context:this});g.add({fn:function(){var t=this._getEmptyTouchList(),n,r,i,s;n={pageX:D.end[0],pageY:D.end[1],clientX:D.end[0],clientY:D.end[1]},r={pageX:P.end[0],pageY:P.end[1],clientX:P.end[0],clientY:P.end[1]},s=this._createTouchList([e.merge({identifier:E++},n),e.merge({identifier:E++},r)]),i={pageX:(D.end[0]+P.end[0])/2,pageY:(D.end[0]+P.end[1])/2,clientX:(D.end[0]+P.end[0])/2,clientY:(D.end[0]+P.end[1])/2},e.UA.ios>=2&&this._simulateEvent(this.target,m,e.merge({scale:L,rotation:M},i)),this._simulateEvent(this.target,p,e.merge({touches:t,targetTouches:t,changedTouches:s,scale:L,rotation:M},i))},context:this}),n&&e.Lang.isFunction(n)&&g.add({fn:n,context:this.node}),g.run()},tap:function(t,r,i,s,o){var u=new e.AsyncQueue,a=this._getEmptyTouchList(),f,h,d,v,m;r=this._calculateDefaultPoint(r);if(!e.Lang.isNumber(i)||i<1)i=1;e.Lang.isNumber(s)||(s=l.HOLD_TAP),e.Lang.isNumber(o)||(o=l.DELAY_TAP),h={pageX:r[0],pageY:r[1],clientX:r[0],clientY:r[1]},f=this._createTouchList([e.merge({identifier:0},h)]),v=function(){this._simulateEvent(this.target,c,e.merge({touches:f,targetTouches:f,changedTouches:f},h))},m=function(){this._simulateEvent(this.target,p,e.merge({touches:a,targetTouches:a,changedTouches:f},h))};for(d=0;d<i;d++)u.add({fn:v,context:this,timeout:d===0?0:o}),u.add({fn:m,context:this,timeout:s});i>1&&!n&&u.add({fn:function(){this._simulateEvent(this.target,E,h)},context:this}),t&&e.Lang.isFunction(t)&&u.add({fn:t,context:this.node}),u.run()},flick:function(n,r,i,s,o){var u;r=this._calculateDefaultPoint(r),e.Lang.isString(i)?(i=i.toLowerCase(),i!==S&&i!==x&&e.error(t+"(flick): Only x or y axis allowed")):i=S,e.Lang.isNumber(s)||(s=l.DISTANCE_FLICK),e.Lang.isNumber(o)?o>l.MAX_DURATION_FLICK&&(o=l.MAX_DURATION_FLICK):o=l.DURATION_FLICK,Math.abs(s)/o<l.MIN_VELOCITY_FLICK&&(o=Math.abs(s)/l.MIN_VELOCITY_FLICK),u={start:e.clone(r),end:[i===S?r[0]+s:r[0],i===x?r[1]+s:r[1]]},this._move(n,u,o)},move:function(t,n,r){var i;e.Lang.isObject(n)?(e.Lang.isArray(n.point)?n.point=this._calculateDefaultPoint(n.point):n.point=this._calculateDefaultPoint([]),e.Lang.isNumber(n.xdist)||(n.xdist=l.DISTANCE_MOVE),e.Lang.isNumber(n.ydist)||(n.ydist=0)):n={point:this._calculateDefaultPoint([]),xdist:l.
DISTANCE_MOVE,ydist:0},e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,i={start:e.clone(n.point),end:[n.point[0]+n.xdist,n.point[1]+n.ydist]},this._move(t,i,r)},_move:function(t,n,r){var i,s,o=u,d,v,m,g=0,y;e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,e.Lang.isObject(n)?(e.Lang.isArray(n.start)||(n.start=[a,f]),e.Lang.isArray(n.end)||(n.end=[a+l.DISTANCE_MOVE,f])):n={start:[a,f],end:[a+l.DISTANCE_MOVE,f]},e.AsyncQueue.defaults.timeout=o,i=new e.AsyncQueue,i.add({fn:function(){var t={pageX:n.start[0],pageY:n.start[1],clientX:n.start[0],clientY:n.start[1]},r=this._createTouchList([e.merge({identifier:g++},t)]);this._simulateEvent(this.target,c,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),d=Math.floor(r/o),v=(n.end[0]-n.start[0])/d,m=(n.end[1]-n.start[1])/d,y=function(t){var r=n.start[0]+v*t,i=n.start[1]+m*t,s={pageX:r,pageY:i,clientX:r,clientY:i},o=this._createTouchList([e.merge({identifier:g++},s)]);this._simulateEvent(this.target,h,e.merge({touches:o,targetTouches:o,changedTouches:o},s))};for(s=0;s<d;s++)i.add({fn:y,args:[s],context:this});i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,h,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._getEmptyTouchList(),i=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,p,e.merge({touches:r,targetTouches:r,changedTouches:i},t))},context:this}),t&&e.Lang.isFunction(t)&&i.add({fn:t,context:this.node}),i.run()},_getEmptyTouchList:function(){return o||(o=this._createTouchList([])),o},_createTouchList:function(n){var r=[],i,o=this;return!!n&&e.Lang.isArray(n)?e.UA.android&&e.UA.android>=4||e.UA.ios&&e.UA.ios>=2?(e.each(n,function(t){t.identifier||(t.identifier=0),t.pageX||(t.pageX=0),t.pageY||(t.pageY=0),t.screenX||(t.screenX=0),t.screenY||(t.screenY=0),r.push(s.createTouch(e.config.win,o.target,t.identifier,t.pageX,t.pageY,t.screenX,t.screenY))}),i=s.createTouchList.apply(s,r)):e.UA.ios&&e.UA.ios<2?e.error(t+": No touch event simulation framework present."):(i=[],e.each(n,function(e){e.identifier||(e.identifier=0),e.clientX||(e.clientX=0),e.clientY||(e.clientY=0),e.pageX||(e.pageX=0),e.pageY||(e.pageY=0),e.screenX||(e.screenX=0),e.screenY||(e.screenY=0),i.push({target:o.target,identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}),i.item=function(e){return i[e]}):e.error(t+": Invalid touchPoints passed"),i},_simulateEvent:function(t,r,s){var o;i[r]?n?e.Event.simulate(t,r,s):this._isSingleTouch(s.touches,s.targetTouches,s.changedTouches)?(r={touchstart:b,touchmove:y,touchend:g}[r],s.button=0,s.relatedTarget=null,o=r===g?s.changedTouches:s.touches,s=e.mix(s,{screenX:o.item(0).screenX,screenY:o.item(0).screenY,clientX:o.item(0).clientX,clientY:o.item(0).clientY},!0),e.Event.simulate(t,r,s),r==g&&e.Event.simulate(t,w,s)):e.error("_simulateEvent(): Event '"+r+"' has multi touch objects that can't be simulated in your platform."):e.Event.simulate(t,r,s)},_isSingleTouch:function(e,t,n){return e&&e.length<=1&&t&&t.length<=1&&n&&n.length<=1}},e.GestureSimulation=T,e.GestureSimulation.defaults=l,e.GestureSimulation.GESTURES=r,e.Event.simulateGesture=function(n,i,s,o){n=e.one(n);var u=new e.GestureSimulation(n);i=i.toLowerCase(),!o&&e.Lang.isFunction(s)&&(o=s,s={}),s=s||{};if(r[i])switch(i){case"tap":u.tap(o,s.point,s.times,s.hold,s.delay);break;case"doubletap":u.tap(o,s.point,2);break;case"press":e.Lang.isNumber(s.hold)?s.hold<l.MIN_HOLD_PRESS?s.hold=l.MIN_HOLD_PRESS:s.hold>l.MAX_HOLD_PRESS&&(s.hold=l.MAX_HOLD_PRESS):s.hold=l.HOLD_PRESS,u.tap(o,s.point,1,s.hold);break;case"move":u.move(o,s.path,s.duration);break;case"flick":u.flick(o,s.point,s.axis,s.distance,s.duration);break;case"pinch":u.pinch(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation);break;case"rotate":u.rotate(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation)}else e.error(t+": Not a supported gesture simulation: "+i)}},"3.8.1",{requires:["async-queue","event-simulate","node-screen"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("node-event-simulate",function(e,t){e.Node.prototype.simulate=function(t,n){e.Event.simulate(e.Node.getDOMNode(this),t,n)},e.Node.prototype.simulateGesture=function(t,n,r){e.Event.simulateGesture(this,t,n,r)}},"3.8.1",{requires:["node-base","event-simulate","gesture-simulate"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("attribute-complex",function(e,t){var n=e.Attribute;n.Complex=function(){},n.Complex.prototype={_normAttrVals:n.prototype._normAttrVals,_getAttrInitVal:n.prototype._getAttrInitVal},e.AttributeComplex=n.Complex},"3.8.1",{requires:["attribute-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("classnamemanager",function(e,t){var n="classNamePrefix",r="classNameDelimiter",i=e.config;i[n]=i[n]||"yui3",i[r]=i[r]||"-",e.ClassNameManager=function(){var t=i[n],s=i[r];return{getClassName:e.cached(function(){var n=e.Array(arguments);return n[n.length-1]!==!0?n.unshift(t):n.pop(),n.join(s)})}}()},"3.8.1",{requires:["yui-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("widget-base",function(e,t){function R(e){var t=this,n,r,i=t.constructor;t._strs={},t._cssPrefix=i.CSS_PREFIX||s(i.NAME.toLowerCase()),e=e||{},R.superclass.constructor.call(t,e),r=t.get(T),r&&(r!==P&&(n=r),t.render(n))}var n=e.Lang,r=e.Node,i=e.ClassNameManager,s=i.getClassName,o,u=e.cached(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),a="content",f="visible",l="hidden",c="disabled",h="focused",p="width",d="height",v="boundingBox",m="contentBox",g="parentNode",y="ownerDocument",b="auto",w="srcNode",E="body",S="tabIndex",x="id",T="render",N="rendered",C="destroyed",k="strings",L="<div></div>",A="Change",O="loading",M="_uiSet",_="",D=function(){},P=!0,H=!1,B,j={},F=[f,c,d,p,h,S],I=e.UA.webkit,q={};R.NAME="widget",B=R.UI_SRC="ui",R.ATTRS=j,j[x]={valueFn:"_guid",writeOnce:P},j[N]={value:H,readOnly:P},j[v]={value:null,setter:"_setBB",writeOnce:P},j[m]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:P},j[S]={value:null,validator:"_validTabIndex"},j[h]={value:H,readOnly:P},j[c]={value:H},j[f]={value:P},j[d]={value:_},j[p]={value:_},j[k]={value:{},setter:"_strSetter",getter:"_strGetter"},j[T]={value:H,writeOnce:P},R.CSS_PREFIX=s(R.NAME.toLowerCase()),R.getClassName=function(){return s.apply(i,[R.CSS_PREFIX].concat(e.Array(arguments),!0))},o=R.getClassName,R.getByNode=function(t){var n,i=o();return t=r.one(t),t&&(t=t.ancestor("."+i,!0),t&&(n=q[e.stamp(t,!0)])),n||null},e.extend(R,e.Base,{getClassName:function(){return s.apply(i,[this._cssPrefix].concat(e.Array(arguments),!0))},initializer:function(t){var n=this.get(v);n instanceof r&&this._mapInstance(e.stamp(n)),this._applyParser&&this._applyParser(t)},_mapInstance:function(e){q[e]=this},destructor:function(){var t=this.get(v),n;t instanceof r&&(n=e.stamp(t,!0),n in q&&delete q[n],this._destroyBox())},destroy:function(e){return this._destroyAllNodes=e,R.superclass.destroy.apply(this)},_destroyBox:function(){var e=this.get(v),t=this.get(m),n=this._destroyAllNodes,r;r=e&&e.compareTo(t),this.UI_EVENTS&&this._destroyUIEvents(),this._unbindUI(e),n?(e.empty(),e.remove(P)):(t&&t.remove(P),r||e.remove(P))},render:function(e){return!this.get(C)&&!this.get(N)&&(this.publish(T,{queuable:H,fireOnce:P,defaultTargetOnly:P,defaultFn:this._defRenderFn}),this.fire(T,{parentNode:e?r.one(e):null})),this},_defRenderFn:function(e){this._parentNode=e.parentNode,this.renderer(),this._set(N,P),this._removeLoadingClassNames()},renderer:function(){var e=this;e._renderUI(),e.renderUI(),e._bindUI(),e.bindUI(),e._syncUI(),e.syncUI()},bindUI:D,renderUI:D,syncUI:D,hide:function(){return this.set(f,H)},show:function(){return this.set(f,P)},focus:function(){return this._set(h,P)},blur:function(){return this._set(h,H)},enable:function(){return this.set(c,H)},disable:function(){return this.set(c,P)},_uiSizeCB:function(e){this.get(m).toggleClass(o(a,"expanded"),e)},_renderBox:function(e){var t=this,n=t.get(m),i=t.get(v),s=t.get(w),o=t.DEF_PARENT_NODE,u=s&&s.get(y)||i.get(y)||n.get(y);s&&!s.compareTo(n)&&!n.inDoc(u)&&s.replace(n),!i.compareTo(n.get(g))&&!i.compareTo(n)&&(n.inDoc(u)&&n.replace(i),i.appendChild(n)),e=e||o&&r.one(o),e?e.appendChild(i):i.inDoc(u)||r.one(E).insert(i,0)},_setBB:function(e){return this._setBox(this.get(x),e,this.BOUNDING_TEMPLATE,!0)},_setCB:function(e){return this.CONTENT_TEMPLATE===null?this.get(v):this._setBox(null,e,this.CONTENT_TEMPLATE,!1)},_defaultCB:function(e){return this.get(w)||null},_setBox:function(t,n,i,s){return n=r.one(n),n||(n=r.create(i),s?this._bbFromTemplate=!0:this._cbFromTemplate=!0),n.get(x)||n.set(x,t||e.guid()),n},_renderUI:function(){this._renderBoxClassNames(),this._renderBox(this._parentNode)},_renderBoxClassNames:function(){var e=this._getClasses(),t,n=this.get(v),r;n.addClass(o());for(r=e.length-3;r>=0;r--)t=e[r],n.addClass(t.CSS_PREFIX||s(t.NAME.toLowerCase()));this.get(m).addClass(this.getClassName(a))},_removeLoadingClassNames:function(){var e=this.get(v),t=this.get(m),n=this.getClassName(O),r=o(O);e.removeClass(r).removeClass(n),t.removeClass(r).removeClass(n)},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND),this._bindDOM()},_unbindUI:function(e){this._unbindDOM(e)},_bindDOM:function(){var t=this.get(v).get(y),n=R._hDocFocus;n||(n=R._hDocFocus=t.on("focus",this._onDocFocus,this),n.listeners={count:0}),n.listeners[e.stamp(this,!0)]=!0,n.listeners.count++,I&&(this._hDocMouseDown=t.on("mousedown",this._onDocMouseDown,this))},_unbindDOM:function(t){var n=R._hDocFocus,r=e.stamp(this,!0),i,s=this._hDocMouseDown;n&&(i=n.listeners,i[r]&&(delete i[r],i.count--),i.count===0&&(n.detach(),R._hDocFocus=null)),I&&s&&s.detach()},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC)},_uiSetHeight:function(e){this._uiSetDim(d,e),this._uiSizeCB(e!==_&&e!==b)},_uiSetWidth:function(e){this._uiSetDim(p,e)},_uiSetDim:function(e,t){this.get(v).setStyle(e,n.isNumber(t)?t+this.DEF_UNIT:t)},_uiSetVisible:function(e){this.get(v).toggleClass(this.getClassName(l),!e)},_uiSetDisabled:function(e){this.get(v).toggleClass(this.getClassName(c),e)},_uiSetFocused:function(e,t){var n=this.get(v);n.toggleClass(this.getClassName(h),e),t!==B&&(e?n.focus():n.blur())},_uiSetTabIndex:function(e){var t=this.get(v);n.isNumber(e)?t.set(S,e):t.removeAttribute(S)},_onDocMouseDown:function(e){this._domFocus&&this._onDocFocus(e)},_onDocFocus:function(e){var t=R.getByNode(e.target),n=R._active;n&&n!==t&&(n._domFocus=!1,n._set(h,!1,{src:B}),R._active=null),t&&(t._domFocus=!0,t._set(h,!0,{src:B}),R._active=t)},toString:function(){return this.name+"["+this.get(x)+"]"},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:L,BOUNDING_TEMPLATE:L,_guid:function(){return e.guid()},_validTabIndex:function(e){return n.isNumber(e)||n.isNull(e)},_bindAttrUI:function(e){var t,n=e.length;for(t=0;t<n;t++)this.after(e[t]+A,this._setAttrUI)},_syncAttrUI:function(e){var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],this[M+u(r)](this.get(r))},_setAttrUI:function(e){e.target===this&&this[M+u(e.attrName)](e.newVal,e.src)},_strSetter:function(t){return e.merge(this
.get(k),t)},getString:function(e){return this.get(k)[e]},getStrings:function(){return this.get(k)},_UI_ATTRS:{BIND:F,SYNC:F}}),e.Widget=R},"3.8.1",{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:!0});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("widget-htmlparser",function(e,t){var n=e.Widget,r=e.Node,i=e.Lang,s="srcNode",o="contentBox";n.HTML_PARSER={},n._buildCfg={aggregates:["HTML_PARSER"]},n.ATTRS[s]={value:null,setter:r.one,getter:"_getSrcNode",writeOnce:!0},e.mix(n.prototype,{_getSrcNode:function(e){return e||this.get(o)},_applyParsedConfig:function(t,n,r){return r?e.mix(n,r,!1):n},_applyParser:function(t){var n=this,r=this._getNodeToParse(),s=n._getHtmlParser(),o,u;s&&r&&e.Object.each(s,function(e,t,s){u=null,i.isFunction(e)?u=e.call(n,r):i.isArray(e)?(u=r.all(e[0]),u.isEmpty()&&(u=null)):u=r.one(e),u!==null&&u!==undefined&&(o=o||{},o[t]=u)}),t=n._applyParsedConfig(r,t,o)},_getNodeToParse:function(){var e=this.get("srcNode");return this._cbFromTemplate?null:e},_getHtmlParser:function(){var t=this._getClasses(),n={},r,i;for(r=t.length-1;r>=0;r--)i=t[r].HTML_PARSER,i&&e.mix(n,i,!0);return n}})},"3.8.1",{requires:["widget-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("yui-throttle",function(e,t){
/*! Based on work by Simon Willison: http://gist.github.com/292562 */
;e.throttle=function(t,n){n=n?n:e.config.throttleTime||150;if(n===-1)return function(){t.apply(null,arguments)};var r=e.Lang.now();return function(){var i=e.Lang.now();i-r>n&&(r=i,t.apply(null,arguments))}}},"3.8.1",{requires:["yui-base"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("event-resize",function(e,t){e.Event.define("windowresize",{on:e.UA.gecko&&e.UA.gecko<1.91?function(t,n,r){n._handle=e.Event.attach("resize",function(e){r.fire(e)})}:function(t,n,r){var i=e.config.windowResizeDelay||100;n._handle=e.Event.attach("resize",function(t){n._timer&&n._timer.cancel(),n._timer=e.later(i,e,function(){r.fire(t)})})},detach:function(e,t){t._timer&&t._timer.cancel(),t._handle.detach()}})},"3.8.1",{requires:["node-base","event-synthetic"]});
YUI.add("widget-lazy-render",function(c){var b=[];
function a(){for(var d=0;
d<b.length;
d++){var f=b[d],e=f.get("srcNode");
if(!e._node||!e.inDoc()){f._removeFromList()
}else{if(c.DOM.inViewportRegion(e._node)){f.render()
}}}}c.one("window").on(["load","windowresize","scroll"],c.throttle(a,50));
c.WidgetLazyRender=c.Base.create("WidgetLazyRender",c.Base,[],{_removeFromList:function(){var d=c.Array.indexOf(b,this);
if(d!==-1){b.splice(d,1)
}},initializer:function(d){if(!this.get("rendered")){b.push(this)
}this.after("render",this._removeFromList,this);
if(d.srcNode){this.addTarget(d.srcNode)
}},destructor:function(){this._removeFromList()
}},{ATTRS:{render:{valueFn:function(){return(YUI.Env.windowLoaded||(c.UA.ie&&c.UA.ie<=8))&&c.DOM.inViewportRegion(this.get("srcNode")._node)
}}}})
},"@VERSION@",{requires:["base-build","node","yui-throttle","event-resize"]});
YUI.add("styled-inputs",function(c){var d="boundingBox",n="contentBox",k="displayBox",g="display",e=c.namespace("StyledInputs"),a=c.namespace("StyledInputs.Plugin"),m="error";
e.Base=c.Base.create("Base",c.Widget,[c.WidgetLazyRender],{DISPLAY_TEMPLATE:'<div class="styledinput-display"></div>',initializer:function(i){c.Do.after(this._syncErrors,this,"syncUI",this)
},_syncErrors:function(){if(this.get(n).hasClass(m)){this.get(d).addClass(m);
this.get(k).addClass(m)
}},renderUI:function(){var l=this.get(n),i=this.get(k);
l.addClass(e.Base.CSS_PREFIX+"-content");
if(!i){i=c.Node.create(this.DISPLAY_TEMPLATE).addClass(this.getClassName(g));
l.insert(i,"after");
this.set(k,i)
}},bindUI:function(){},syncUI:function(){}},{ATTRS:{displayBox:{value:null}},HTML_PARSER:{displayBox:function(i){return i.next("."+this.getClassName(g))
}},CSS_PREFIX:"styledinput"});
e.Checkbox=c.Base.create("Checkbox",e.Base,[],{},{CSS_PREFIX:"styledcheckbox"});
e.Radiobutton=c.Base.create("Radiobutton",e.Base,[],{},{CSS_PREFIX:"styledradiobutton"});
e.Select=c.Base.create("Select",c.Base,[],{_select:null,_wrapper:null,initializer:function(i){this._select=i.srcNode;
this._wrapper=this._select.get("parentNode");
if(!this._wrapper.hasClass("styledselect-display")){this._wrapper=this._select.wrap('<div class="styledinput styledselect-display"></div>').get("parentNode")
}if(this._select.hasClass(m)){this._wrapper.addClass(m)
}}});
var o=["Checkbox","Radiobutton","Select"];
var j=function(i){return c.Base.create(i,c.Plugin.Base,[],{initializer:function(l){var p=l.host.get("parentNode"),q=p.hasClass(e[i].CSS_PREFIX)?p:null;
this._widget=new e[i]({srcNode:l.host,boundingBox:q})
},destructor:function(){this._widget.destroy()
}},{NS:"styled"})
};
for(var h=0,f=o.length;
h<f;
h++){var b=o[h];
a[b]=j(b)
}a.Form=c.Base.create("Form",c.Plugin.Base,[],{initializer:function(i){var l=i.host;
l.all("input[type=radio]").plug(a.Radiobutton);
l.all("input[type=checkbox]").plug(a.Checkbox);
l.all("select").plug(a.Select)
}},{NS:"styled"})
},"@VERSION@",{requires:["base-build","node","node-event-simulate","event-custom","widget-base","widget-htmlparser","widget-lazy-render","plugin","array-extras"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("event-mouseenter",function(e,t){var n=e.Env.evt.dom_wrappers,r=e.DOM.contains,i=e.Array,s=function(){},o={proxyType:"mouseover",relProperty:"fromElement",_notify:function(t,i,s){var o=this._node,u=t.relatedTarget||t[i];o!==u&&!r(o,u)&&s.fire(new e.DOMEventFacade(t,o,n["event:"+e.stamp(o)+t.type]))},on:function(t,n,r){var i=e.Node.getDOMNode(t),s=[this.proxyType,this._notify,i,null,this.relProperty,r];n.handle=e.Event._attach(s,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,i){var o=e.Node.getDOMNode(t),u=[this.proxyType,s,o,null,r];n.handle=e.Event._attach(u,{facade:!1}),n.handle.sub.filter=i,n.handle.sub.relProperty=this.relProperty,n.handle.sub._notify=this._filterNotify},_filterNotify:function(t,n,s){n=n.slice(),this.args&&n.push.apply(n,this.args);var o=e.delegate._applyFilter(this.filter,n,s),u=n[0].relatedTarget||n[0][this.relProperty],a,f,l,c,h;if(o){o=i(o);for(f=0,l=o.length&&(!a||!a.stopped);f<l;++f){h=o[0];if(!r(h,u)){a||(a=new e.DOMEventFacade(n[0],h,s),a.container=e.one(s.el)),a.currentTarget=e.one(h),c=n[1].fire(a);if(c===!1)break}}}return c},detachDelegate:function(e,t){t.handle.detach()}};e.Event.define("mouseenter",o,!0),e.Event.define("mouseleave",e.merge(o,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.8.1",{requires:["event-synthetic"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("event-hover",function(e,t){var n=e.Lang.isFunction,r=function(){},i={processArgs:function(e){var t=n(e[2])?2:3;return n(e[t])?e.splice(t,1)[0]:r},on:function(e,t,n,r){var i=t.args?t.args.slice():[];i.unshift(null),t._detach=e[r?"delegate":"on"]({mouseenter:function(e){e.phase="over",n.fire(e)},mouseleave:function(e){var n=t.context||this;i[0]=e,e.type="hover",e.phase="out",t._extra.apply(n,i)}},r)},detach:function(e,t,n){t._detach.detach()}};i.delegate=i.on,i.detachDelegate=i.detach,e.Event.define("hover",i)},"3.8.1",{requires:["event-mouseenter"]});
/* YUI 3.8.1 (build 5795) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.8.1",{requires:["yui-base"],optional:["dump"]});
YUI.add("analytics-visualization",function(b){var a=function(c){this._name="VisualizationTool";
this._cfg=b.merge({prettyFormatCfg:[{pattern:/(\"[a-zA-Z0-9\-\_\#\?\+\=]+\")/g,color:"green"}]},c);
this._toggleState=0;
this._tracker=b.Analytics.Tracker.getInstance();
b.on("analytics:dependenciesloaded",this._init,this);
this._loadDependencies()
};
a.prototype={_loadDependencies:function(){b.Get.css("/resources/css/widgets/analytics/visualization-tool.css",{onSuccess:function(){b.one("body").append(b.Node.create(a.tpl.panel));
b.fire("analytics:dependenciesloaded")
}})
},_init:function(){this._addTooltip();
this._initLinkTracking();
this._initPageTracking()
},_initPageTracking:function(){var e=this,g=["open","close"],d=b.one("#pageTracking_Popup"),c=b.one("#pageTracking_Toggle",d),i=b.one("#pageTracking_Data",d),h=b.one("#pageTracking_ToggleText",c),f=b.one("#pageTracking_ToggleIcon",c);
this._onPageTracked(function(j){i.setContent(e._prettyColor(j))
});
c.on("click",function(j){d.removeClass("nerv-init");
d.toggleClass("nerv-open");
f.toggleClass("nerv-open");
e._toggleState=Number(!e._toggleState);
h.setContent(g[e._toggleState])
})
},_initLinkTracking:function(){var c=this,d=null,e=null;
b.all("a[data-bntrack]").each(function(h){var l=c._getLinkTrackingData(h),i=l.json,g=l.nodes,j=b.one(g.pop()),f=b.Node.create('<div class="nerv-tracked-link-wrapper"></div>'),m=20,k=-20,n,o;
h.setData("rootNode",j);
h.addClass("nerv-tracked-link");
f.append(h.replace(f));
n=function(p){if(p.relatedTarget&&!p.relatedTarget.hasClass("nerv-arrow")&&!p.relatedTarget.hasClass("nerv-tracked-link")){c.tooltip.removeClass("nerv-tooltip-open");
c.tooltip.setAttribute("style","left:-4000px;")
}};
o=function(p){var q;
e=p.currentTarget;
clearTimeout(d);
p.stopPropagation();
setTimeout(function(){q=p.currentTarget.get("region");
clearTimeout(d);
c.tooltip.addClass("nerv-tooltip-open");
c.tooltipContent.setContent(i);
c.tooltip.setXY([q.right+m,q.bottom+k])
},300)
};
h.on("hover",o,n);
f.on("hover",o,n);
c.tooltip.on("hover",o,n)
})
},_addTooltip:function(){var e=b.Node.create('<div class="nerv-arrow nerv-border"></div><div class="nerv-arrow nerv-bg"></div>'),c=b.Node.create('<div id="linkTracking_content"></div>'),d=b.Node.create('<div class="nerv-tooltip nerv-tooltip-open"></div>');
d.append(e);
d.append(c);
b.one("body").append(d);
this.tooltip=d;
this.tooltipContent=c
},_prettyColor:function(h){var g=h,j=null,c="",d=this._cfg.prettyFormatCfg,f=0,e=d.length,k;
k=function(l,i){var m=b.substitute(a.tpl.prettywrapper,{color:c,text:i});
return m
};
while(f<e){j=d[f].pattern;
c=d[f].color;
g=g.replace(j,k);
f++
}return g
},_getLinkTrackingData:function(f){var h,g,c,e,i,d;
g=+new Date();
c=this._tracker._createEventObj(this._tracker.find(f,true));
d=c.nodes;
e=f.getAttribute("href");
h=c.eventData.pop();
c=b.merge(c,{timestamp:g,href:e,target:h});
c.eventData=c.eventData.join(",");
delete c.nodes;
i=b.JSON.stringify(c,null,4);
i=i.replace(/\"eventData\":(.*)/,function(l,k,j){var m=k.split(",");
m.pop();
return'"eventData": ['+m.join('","')+"]"
});
i=this._prettyColor(i);
return{json:i,nodes:d}
},_onPageTracked:function(c){var e=this._tracker.getProvider("InternalProvider"),d=this,f=null;
e.on(b.Analytics.Provider.InternalProvider.PAGE_TRACKED,function(){f=e.getPageTracked();
f=b.JSON.stringify(f,null,4);
c.call(d,f)
})
}};
a.tpl={panel:'<header class="nerv-pagepopup nerv-init" id="pageTracking_Popup">  <div class="nerv-content"><div class="nerv-padding" id="pageTracking_Data"></div></div>  <div class="nerv-toggle"><div href="#open-close%20Page" id="pageTracking_Toggle" class="nerv-toggle"><span id="pageTracking_ToggleIcon" class="nerv-toggle-vert-arrow"></span><span id="pageTracking_ToggleText">open</span> page tracking panel</div></div></header>',prettywrapper:'<span style="color:{color}">{text}</span>'};
a.init=function(){return new a()
};
b.namespace("Analytics.VisualizationTool");
b.Analytics.VisualizationTool=a
},"@VERSION@",{requires:["event-custom","event-hover","analytics-internaltracking","get","substitute","node"]});
YUI.add("performance-metrics",function(b){var a="Metrics";
b.namespace("Performance")[a]=b.Base.create(a,b.Base,[],{_loadMetrics:function(k){if(window.performance===undefined){b.log("Performance Metrics should not be executed in a browser that does not have a native window.performance object","error","_load")
}var h=window.performance,l=navigator,e={},i=h.timing,f=i.responseEnd-i.navigationStart,d=i.domInteractive-i.navigationStart,c=i.domComplete-i.navigationStart,g=Math.floor(Math.random()*101),j=g<=k;
if(j){b.log("Firing performance metrics for "+k+"% of users. This is set by a griffin property.","info","_load");
e=b.merge({OperatingSystemPlatform:l.platform,UserAgent:l.userAgent,PageUrl:window.location.protocol+"//"+window.location.hostname+window.location.pathname,PageQueryString:window.location.search,NumberOfRedirects:h.navigation.redirectCount,ElementsByType:{ImgTags:document.getElementsByTagName("img").length,JSScriptTags:document.getElementsByTagName("script").length,CSSLinkTags:document.getElementsByTagName("link").length},LoadTimes:{HTML:f,FullPage:c,Perceived:d},PerformanceData:{navigationStart:i.navigationStart,redirectStart:i.redirectStart,unloadEventStart:i.unloadEventStart,unloadEventEnd:i.unloadEventEnd,redirectEnd:i.redirectEnd,fetchStart:i.fetchStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,connectStart:i.connectStart,connectEnd:i.connectEnd,requestStart:i.requestStart,responseStart:i.responseStart,responseEnd:i.responseEnd,domLoading:i.domLoading,domInteractive:i.domInteractive,domContentLoadedEventStart:i.domContentLoadedEventStart,domContentLoadedEventEnd:i.domContentLoadedEventEnd,domComplete:i.domComplete,loadEventStart:i.loadEventStart,loadEventEnd:i.loadEventEnd}},this._mixinValues);
b.io("/Metrics",{method:"POST",data:b.JSON.stringify(e),headers:{"Content-Type":"application/json"}})
}},initializer:function(c){var d=c.percentEnabled||5;
this._mixinValues=c.mixinValues;
b.one("window").after("load",function(){b.later(2000,this,function(){this._loadMetrics(d)
})
},this)
}},{ATTRS:{}})
},"@VERSION@",{requires:["base","node","json","io-base","querystring-stringify-simple","event-custom"]});
YUI.add("mixpanel-core",function(a){a.namespace("MixPanel");
a.MixPanel.initialized=false;
a.MixPanel.init=function(b){if(!a.MixPanel.initialized){(function(l,g){window.mixpanel=g;
var f,k,i,j;
f=l.createElement("script");
f.type="text/javascript";
f.async=!0;
f.src=("https:"===l.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";
k=l.getElementsByTagName("script")[0];
k.parentNode.insertBefore(f,k);
g._i=[];
g.init=function(e,o,m){function n(p,d){var q=d.split(".");
2==q.length&&(p=p[q[0]],d=q[1]);
p[d]=function(){p.push([d].concat(Array.prototype.slice.call(arguments,0)))
}
}var h=g;
"undefined"!==typeof m?h=g[m]=[]:m="mixpanel";
h.people=h.people||[];
i=["disable","track","track_pageview","track_links","track_forms","register","register_once","unregister","identify","alias","name_tag","set_config","people.set","people.increment","people.track_charge","people.append"];
for(j=0;
j<i.length;
j++){n(h,i[j])
}g._i.push([e,o,m])
};
g.__SV=1.2
})(document,window.mixpanel||[]);
window.mixpanel.init(b);
a.MixPanel.initialized=true
}};
a.MixPanel.EventNames={addToBag:"add to bag",shoppingBagPageView:"shopping bag page",removeItem:"shopping bag - remove item",modifyQuantity:"shopping bag - modify quantity",saveForLater:"shopping bag - save for later",startCheckout:"start checkout",loginPageView:"login page",createAccountPageView:"create account page",checkoutPageView:"checkout page",thankYouPageView:"order complete",purchaseItem:"purchase item",checkoutPageErrors:"checkout - error",loginErrors:"login error",createAccountCompletion:"checkout - create account"};
a.MixPanel.track=function(){if(a.MixPanel.initialized){return window.mixpanel.track.apply(window.mixpanel,arguments)
}};
a.MixPanel.Tracking={dataPayload:{},addDataPayload:function(c,b){this.dataPayload["ean-"+c]=b
},getDataPayload:function(c){if(typeof c!==undefined){var b=this.dataPayload["ean-"+c];
if(typeof b==="undefined"){return null
}else{return b
}}else{return null
}}}
},"@VERSION@",{requires:["base-build","event-custom"]});
YUI.add("styled-inputs-ie",function(g){var b="selected",a="contentBox",c="displayBox",e=g.namespace("StyledInputs"),d=function(){this.constructor.superclass.bindUI.apply(this,arguments);
g.Do.after(function(){if(arguments&&arguments[0]==="checked"){this.syncUI()
}},this.get(a),"set",this)
},f=function(){var i=this.get(c);
var h=this.get(a);
if(i&&i.getDOMNode()&&h&&h.getDOMNode()){i.toggleClass(this.getClassName(b),h.get("checked"));
return true
}else{return false
}};
e.Select=g.Base.create("Select-IE",e.Select,[],{_syncText:function(){var h=this._select.all("option").item(this._select.get("selectedIndex"))||this._select.one("option");
if(h){this._wrapper.one(".text").set("text",h.get("text"))
}},initializer:function(h){this._wrapper.addClass("ie").insert('<div class="arrow"></div>').insert('<span class="text"></span>',0);
this._select.on(["change","formreset"],this._syncText,this);
g.Do.after(function(i){if(i==="value"||i==="selectedIndex"||i==="disabled"){this._syncText()
}},this._select,"set",this);
this._syncText()
}});
if(g.UA.ie<=8){e.Base.prototype.bindUI=function(){this.get(a).on(["click","change","keyup","formreset"],this.syncUI,this)
};
e.Checkbox.prototype.bindUI=d;
e.Checkbox.prototype.syncUI=f;
e.Radiobutton._siblingMap={};
e.Radiobutton.prototype.initializer=function(h){var i=h.srcNode.get("name");
if(!e.Radiobutton._siblingMap[i]){e.Radiobutton._siblingMap[i]=[]
}e.Radiobutton._siblingMap[i].push(this)
};
e.Radiobutton.prototype.bindUI=d;
e.Radiobutton.prototype.syncUI=function(){var h=this.get(a).get("name");
var i=g.Array.filter(e.Radiobutton._siblingMap[h],function(j){return f.apply(j,arguments)
});
e.Radiobutton._siblingMap[h]=i
};
e.Radiobutton.prototype.destructor=function(){var h=this.get(a).get("name"),i=e.Radiobutton._siblingMap[h];
i.splice(g.Array.indexOf(i,this),0)
}
}},"@VERSION@",{requires:["styled-inputs","event-formreset"],condition:{name:"styled-inputs-ie",trigger:"styled-inputs",ua:"ie",when:"after"},after:["styled-inputs"]});
